{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ball.js","webpack:///./src/bar.js","webpack:///./src/bin.js","webpack:///./src/configuration.js","webpack:///./src/display.js","webpack:///./src/index.js","webpack:///./src/interaction.js","webpack:///./src/left_most_star.js","webpack:///./src/moveable_shape.js","webpack:///./src/star.js","webpack:///./src/static_shape.js","webpack:///./src/validation.js","webpack:///./util/checks.js","webpack:///./util/event_listeners.js","webpack:///./util/formulas.js"],"names":["Ball","label","pos","radius","boundingBox","ctx","ballType","recalculateBoundingBox","beginPath","arc","Math","PI","stroke","font","fillText","MoveableShape","Bar","width","height","isClicked","x","y","moveTo","lineTo","fill","Bin","bounds","binType","items","length","StaticShape","Configuration","staticShapes","otherShapes","checkBothShapes","counter","i","Display","moveableType","staticType","restriction","totalConfigurations","validation","Validation","usesStarsAndBars","numMoveableShapes","document","getElementsByClassName","innerHTML","numStaticShapes","moveableShapes","setMoveableShapes","setStaticShapes","interaction","Interaction","configurations","numPartitons","determineFormula","addToConfigurations","canvasEl","newValue","getElementById","addEventListener","event","preventDefault","target","value","moveableShape","addMoveableShape","removeMoveableShape","clearRect","clientWidth","calculateFormula","start","staticShape","addStaticShape","removeStaticShape","resetState","partitions","updateValues","resetInterface","draw","getContext","result","display","animation","checkBounds","offsetX","offsetY","window","requestAnimationFrame","forEach","shape","cancelAnimationFrame","otherShape","addItem","removeItem","EventListeners","updateCount","push","pop","checkConstraints","reduce","acc","checkStaticShapes","determineCases","checkEachPartition","violateRestriction","checkMoveableShapes","JSON","parse","stringify","LeftMostStar","gap","leftBars","leftBoundingBox","bar","checkLeftBounds","includes","checkLeft","index","indexOf","splice","closePath","bars","Star","topLeft","topRight","bottomRight","bottomLeft","rightBoundingBox","checkRightBounds","checkRight","item","bound1","bound2","bound3","bound4","checkItem","starsAndBars","moveableShapePosition","staticShapePosition","setMoveableShapePosition","setStaticShapePosition","Array","parseInt","ballLabel","binLabel","innerText","toLowerCase","bin1","bin2","checkOrderOfBalls","balls","checkAgainstOtherBins","checkForSimilarBalls","checkTotalBalls","checkForSimilarLength","balls1","balls2","otherBins","checkCallback","labels","Boolean","rules","bin","checkInjective","checkSurjective","addEventsToCases","case1","case2","case3","case4","reset","addEventsToRules","rule1","rule2","rule3","addEventsToButtons","interfaceAlt","addPartition","currentPartitions","console","log","appendPartition","interfaceView","newCanvas","createElement","setAttribute","history","appendChild","partition","calculateDDUnrestricted","calculateDDInjective","calculateDDSurjective","calculateDIUnrestricted","calculateDIInjective","calculateDISurjective","calculateIDUnrestricted","calculateIDInjective","calculateIDSurjective","calculateIIUnrestricted","calculateIIInjective","calculateIISurjective","k","n","pow","calculateFactorial","calculateStirlingNumber","calculateBinomialCoefficient","numbers","getNumbersArray","formula","sumResults","floor","total"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import MoveableShape from './moveable_shape';\n\nclass Ball extends MoveableShape {\n    constructor(label, pos, radius) {\n        const boundingBox = [\n            [pos[0] - radius, pos[1] - radius],\n            [pos[0] + radius, pos[1] - radius],\n            [pos[0] + radius, pos[1] + radius],\n            [pos[0] - radius, pos[1] + radius]\n        ];\n        super(pos, boundingBox);\n        this.label = label;\n        this.radius = radius;\n    }\n\n    draw(ctx, ballType) {\n        if(typeof ctx === \"object\") { //ctx is a number when clicked so I need to have a conditional here\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n            ctx.stroke();\n            ctx.font = \"30px sans-serif\";\n\n            if(ballType === \"distinguishable\") {\n                ctx.fillText(this.label, this.pos[0] - 8, this.pos[1] + 8);\n            }\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0] - this.radius, this.pos[1] - this.radius],\n            [this.pos[0] + this.radius, this.pos[1] - this.radius],\n            [this.pos[0] + this.radius, this.pos[1] + this.radius],\n            [this.pos[0] - this.radius, this.pos[1] + this.radius]\n        ];\n    }\n}\n\nexport default Ball;","class Bar {\n    constructor(pos, width, height) {\n        this.pos = pos;\n        this.width = width;\n        this.height = height;\n        this.isClicked = false;\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1] + this.height],\n            [this.pos[0], this.pos[1] + this.height]\n        ];\n    }\n\n    checkBounds(x, y) {\n        return (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]) && (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]) && (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]) && (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n    }\n\n    draw(ctx) {\n        if(typeof ctx === \"object\") {\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0], this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.width, this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.width, this.pos[1] + this.height);\n            ctx.lineTo(this.pos[0], this.pos[1] + this.height);\n            ctx.lineTo(this.pos[0], this.pos[1]);\n            ctx.stroke();\n            ctx.fill();\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1] + this.height],\n            [this.pos[0], this.pos[1] + this.height]\n        ];\n    }\n}\n\nexport default Bar;","import StaticShape from './static_shape';\n\nclass Bin extends StaticShape {\n    constructor(label, pos, bounds) {\n        const boundingBox = [\n            [pos[0], pos[1]],\n            [pos[0] + bounds[0] + bounds[1], pos[1]],\n            [pos[0] + bounds[1], pos[1] + bounds[2]],\n            [pos[0] + bounds[0], pos[1] + bounds[2]]\n        ];\n        super(pos, boundingBox);\n        this.label = label;\n        this.bounds = bounds //[X1, X2, Y]\n    }\n\n    // checkBounds(x, y) {\n    //     return (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]) && (x >= this.boundingBox[1][0] && y < this.boundingBox[1][1]) && (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]) && (x < this.boundingBox[3][0] && y >= this.boundingBox[3][1]);\n    // }\n\n    // checkCollision(x, y) {\n    //     let line1 = [this.boundingBox[1][0] - this.boundingBox[0][0], this.boundingBox[1][1] - this.boundingBox[0][1]];\n    //     let line2 = [this.boundingBox[2][0] - this.boundingBox[1][0], this.boundingBox[2][1] - this.boundingBox[1][1]];\n    //     let line3 = [this.boundingBox[3][0] - this.boundingBox[2][0], this.boundingBox[3][1] - this.boundingBox[2][1]];\n\n    //     if(x === line1[0], y === line1[1]) {\n    //         this.pos = line1;\n    //     } else if(x === line2[0], line2[1]) {\n    //         this.pos = line2;\n    //     } else if(x === line3[0], line3[1]) {\n\n    //     }\n    // }\n\n    draw(ctx, binType) {\n        if (typeof ctx === \"object\") {\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0], this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.bounds[0], this.pos[1] + this.bounds[2]);\n            ctx.lineTo(this.pos[0] + this.bounds[1], this.pos[1] + this.bounds[2]);\n            ctx.lineTo(this.pos[0] + this.bounds[0] + this.bounds[1], this.pos[1]);\n            ctx.stroke();\n\n            if(binType === \"distinguishable\") {\n                ctx.fillText(this.label, this.pos[0] + 95, this.pos[1] + 150);\n            }\n\n            ctx.fillText(this.items.length, this.pos[0] + this.bounds[1] - 65, this.pos[1] + this.bounds[2] + 30);\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.bounds[0] + this.bounds[1], this.pos[1]],\n            [this.pos[0] + this.bounds[1], this.pos[1] + this.bounds[2]],\n            [this.pos[0] + this.bounds[0], this.pos[1] + this.bounds[2]]\n        ];\n    }\n}\n\nexport default Bin;","//true values denote there exists a partition, false values denote there doesn't not exist a partition\nclass Configuration {\n    constructor(staticShapes) {\n        this.staticShapes = staticShapes;\n    }\n\n    //this function checks if there is a parititon. \n    //It matches each input's bin with each partition's \n    //bin to check if they have the same configuration. \n    //A counter variable keeps track of simiarities: if \n    //the counter equals to the total # of bins, then this \n    //implies that the partition already exists or the parition\n    //does not adhere to the rules\n    checkStaticShapes(otherShapes, checkBothShapes) {\n        let counter = 0;\n        for(let i = 0; i < this.staticShapes.length; i++) {\n            if (checkBothShapes(otherShapes[i], this.staticShapes, i)) {\n                counter++;\n            }\n        }\n\n        return counter === this.otherShapes.length;\n    }\n\n    // draw(ctx, balls, binType) {\n    //     balls.forEach(ball => ball.draw(ctx));\n    //     this.bins.forEach(bin => bin.draw(ctx, binType));\n    // }\n}\n\nexport default Configuration;","import Interaction from \"./interaction\";\nimport { determineFormula } from '../util/formulas';\nimport Validation from './validation';\n\n//this class is concerned with the presentation/event handling of the interface\nclass Display {\n    constructor(moveableType, staticType, restriction, totalConfigurations, ctx) {\n        this.moveableType = moveableType;\n        this.staticType = staticType;\n        this.restriction = restriction;\n        this.totalConfigurations = totalConfigurations;\n        this.ctx = ctx;\n        this.validation = new Validation();\n        this.validation.usesStarsAndBars(this.moveableType, this.staticType, this.restriction);\n        const numMoveableShapes = document.getElementsByClassName(\"num-balls\")[0].innerHTML;\n        const numStaticShapes = document.getElementsByClassName(\"num-bins\")[0].innerHTML;\n        const moveableShapes = this.validation.setMoveableShapes(numMoveableShapes);\n        const staticShapes = this.validation.setStaticShapes(numStaticShapes);\n        this.interaction = new Interaction(moveableShapes, staticShapes);\n    }\n\n    addToConfigurations() {\n        document.getElementsByClassName(\"configuration-count\")[0].innerHTML = `Configurations: ${this.interaction.configurations.length}/${this.totalConfigurations}`;\n    }\n\n    //account for stars and bars later\n    calculateFormula() {\n        this.numPartitons = determineFormula(this.moveableType, this.staticType, this.restriction)(this.interaction.moveableShapes.length, this.interaction.staticShapes.length);\n        this.addToConfigurations();\n    }\n\n    updateValues() {\n        const numMoveableShapes = document.getElementsByClassName(\"num-balls\")[0].innerHTML;\n        const numStaticShapes = document.getElementsByClassName(\"num-bins\")[0].innerHTML;\n        const moveableShapes = this.validation.setMoveableShapes(numMoveableShapes);\n        const staticShapes = this.validation.setStaticShapes(numStaticShapes);\n        this.interaction.setMoveableShapes(moveableShapes);\n        this.interaction.setStaticShapes(staticShapes);\n    }\n\n    updateCount(canvasEl) {\n        let newValue;\n\n        document.getElementById(\"ball-count\").addEventListener(\"input\", event => {\n            event.preventDefault();\n            newValue = event.target.value;\n            let moveableShape;\n\n            if(newValue > this.interaction.moveableShapes.length) {\n                moveableShape = this.validation.addMoveableShape(this.interaction.moveableShapes.length);\n                this.interaction.addMoveableShape(moveableShape);\n            } else {\n                this.interaction.removeMoveableShape();\n                this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n            }\n            this.calculateFormula();\n            this.start();\n        });\n\n        document.getElementById(\"bin-count\").addEventListener(\"input\", event => {\n            newValue = event.target.value;\n            document.getElementsByClassName(\"num-bins\")[0].innerHTML = event.target.value;\n            let staticShape;\n\n            if(newValue > this.interaction.staticShapes.length) {\n                staticShape = this.validation.addStaticShape(this.interaction.staticShapes.length);\n                this.interaction.addStaticShape(staticShape);\n            } else {\n                this.interaction.removeStaticShape();\n                this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n            }\n            this.calculateFormula();\n            this.start();\n        });\n    }\n\n    resetState() {\n        this.interaction.setMoveableShapes(this.interaction.moveableShapes);\n        this.interaction.setStaticShapes(this.interaction.staticShapes);\n        const canvasEl = document.getElementById(\"canvas\");\n        this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n    }\n\n    resetInterface() {\n        this.resetState();\n        this.interaction.partitions = [];\n    }\n\n    reset() {\n        this.updateValues();\n        this.calculateFormula();\n        this.resetInterface();\n        this.start();\n    }\n\n    start() {\n        this.interaction.draw(this.ctx, this.moveableType, this.staticType);\n    }\n}\n\nexport default Display;","import Display from './display';\nimport { determineFormula } from './../util/formulas';\nimport * as EventListeners from './../util/event_listeners';\nimport LeftMostStar from './left_most_star';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvasEl = document.getElementById(\"canvas\");\n    const ctx = canvasEl.getContext(\"2d\");\n    const result = determineFormula(\"distinguishable\", \"distinguishable\", \"unrestricted\")(document.getElementsByClassName(\"num-balls\")[0].innerHTML, document.getElementsByClassName(\"num-bins\")[0].innerHTML);\n    const display = new Display(\"distinguishable\", \"distinguishable\", \"unrestricted\", result, ctx);\n    let animation;\n\n    canvasEl.addEventListener(\"mousedown\", event => {\n        for(let i = 0; i < display.interaction.moveableShapes.length; i++) {\n            if (display.interaction.moveableShapes[i].checkBounds(event.offsetX, event.offsetY)) {\n                animation = window.requestAnimationFrame(display.interaction.moveableShapes[i].draw);\n                display.interaction.moveableShapes[i].isClicked = true;\n                break; //break here to resolve conflict between overlapping balls\n            }\n        }\n    });\n\n    canvasEl.addEventListener(\"mousemove\", event => {\n        display.interaction.moveableShapes.forEach(shape => {\n            if (shape.isClicked) {\n                ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height); //clear canvas to prevent trailing circles\n                shape.pos[0] = event.offsetX;\n                shape.pos[1] = event.offsetY;\n            }\n        });\n        display.start();\n    });\n\n    canvasEl.addEventListener(\"mouseup\", event => {\n        window.cancelAnimationFrame(animation);\n        ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height); //clear canvas to prevent trailing circles\n        display.interaction.moveableShapes.forEach(shape => {\n            if (shape.isClicked) {\n                shape.isClicked = false;\n                display.interaction.staticShapes.forEach(otherShape => {\n                    otherShape.addItem(shape);\n                    otherShape.removeItem(shape);\n                });\n            }\n        });\n        display.start();\n    });\n\n    /*                display.interfaceAlt.stars.forEach(star => {\n                    if(star instanceof LeftMostStar) {\n                        star.addLeftBar(bar);\n                        star.removeLeftBar(bar);\n                    }\n                    star.addBar(bar);\n                    star.removeBar(bar);\n                });*/\n\n    //order matters -> rules before cases\n    EventListeners.addEventsToRules(display);\n    EventListeners.addEventsToCases(display);\n    // EventListeners.addEventsToButtons(display);\n    display.updateCount(canvasEl);\n    display.start();\n});","import Configuration from './configuration';\nimport { determineCases, checkConstraints } from '../util/checks';\n\nclass Interaction {\n    constructor(moveableShapes, staticShapes) {\n        this.moveableShapes = moveableShapes;\n        this.staticShapes = staticShapes;\n        this.configurations = [];\n    }\n\n    setMoveableShapes(moveableShapes) {\n        this.moveableShapes = moveableShapes;\n    }\n\n    setStaticShapes(staticShapes) {\n        this.staticShapes = staticShapes;\n    }\n\n    addMoveableShape(moveableShape) {\n        this.moveableShapes.push(moveableShape);\n    }\n\n    removeMoveableShape() {\n        this.moveableShapes.pop();\n    }\n\n    addStaticShape(staticShape) {\n        this.staticShapes.push(staticShape);\n    }\n\n    removeStaticShape() {\n        this.staticShapes.pop();\n    }\n\n    violateRestriction(restriction) {\n        for(let i = 0; i < this.staticShapes.length; i++) {\n            if(!checkConstraints(restriction, this.staticShapes[i])) return true;\n        }\n\n        return false;\n    }\n\n    //this function checks if all balls are in the bins by checking if the total balls in bins equals to the total balls\n    checkMoveableShapes() {\n        return this.moveableShapes.length === this.staticShapes.reduce((acc, shape) => acc + shape.items.length, 0);\n    }\n\n    //checks if there exists a partition that is identical. Returns true if that's the case\n    checkEachPartition(moveableType, staticType) {\n        for (let i = 0; i < this.configurations.length; i++) {\n            if (this.configurations[i].checkStaticShapes(this.staticShapes, determineCases(moveableType, staticType))) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    addPartition(event, restriction, moveableType, staticType) {\n        event.preventDefault();\n        if(this.checkEachPartition(moveableType, staticType) || this.violateRestriction(restriction) || !this.checkMoveableShapes()) return false;\n\n        this.configurations.push(new Configuration(JSON.parse(JSON.stringify(this.staticShapes))));\n        return true;\n    }\n\n    // cloneBins() {\n    //     let newBins = [];\n    //     let newBalls;\n    //     let newBin;\n    //     let newBall;\n\n    //     this.bins.forEach(bin => {\n    //         newBalls = [];\n    //         bin.balls.forEach(ball => {\n    //             newBall = Object.assign({}, ball);\n    //             newBalls.push(newBall);\n    //         });\n    //         newBin = Object.create(Bin.prototype, bin);\n    //         console.log(newBin);\n    //         newBin.balls = newBalls;\n    //         newBins.push(newBin);\n    //     });\n    //     return newBins;\n    // }\n\n    draw(ctx, moveableType, staticType) {\n        this.moveableShapes.forEach(shape => shape.draw(ctx, moveableType));\n        this.staticShapes.forEach(shape => shape.draw(ctx, staticType));\n    }\n}\n\nexport default Interaction;","import Star from './star';\n\nclass LeftMostStar extends Star {\n    constructor(pos, gap) {\n        super(pos, gap);\n        this.leftBars = [];\n        this.leftBoundingBox = [\n            [this.pos[0], this.pos[1] - 20],\n            [this.pos[0] - this.gap, this.pos[1] - 20],\n            [this.pos[0] - this.gap, this.pos[1] + 90],\n            [this.pos[0], this.pos[1] + 90]\n        ];\n    }\n\n    checkLeftBounds(x, y) {\n        return (x < this.leftBoundingBox[0][0] && y >= this.leftBoundingBox[0][1]) && (x >= this.leftBoundingBox[1][0] && y >= this.leftBoundingBox[1][1]) && (x >= this.leftBoundingBox[2][0] && y < this.leftBoundingBox[2][1]) && (x < this.leftBoundingBox[3][0] && y < this.leftBoundingBox[3][1]);\n    }\n\n    checkLeft(bar) {\n        return this.checkLeftBounds(bar.boundingBox[0][0], bar.boundingBox[0][1]) && this.checkLeftBounds(bar.boundingBox[1][0], bar.boundingBox[1][1]) && this.checkLeftBounds(bar.boundingBox[2][0], bar.boundingBox[2][1]) && this.checkLeftBounds(bar.boundingBox[3][0], bar.boundingBox[3][1]);\n    }\n\n    addLeftBar(bar) {\n        if (!this.leftBars.includes(bar) && this.checkLeft(bar)) {\n            this.leftBars.push(bar);\n        }\n    }\n\n    removeLeftBar(bar) {\n        if (this.leftBars.includes(bar) && !this.checkLeft(bar)) {\n            let index = this.leftBars.indexOf(bar);\n            this.leftBars.splice(index, 1);\n        }\n    }\n\n    draw(ctx) {\n        if (typeof ctx === \"object\") {\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0] - 5, this.pos[1] - 3);\n            ctx.lineTo(this.pos[0] + 4, this.pos[1] + 24);\n            ctx.lineTo(this.pos[0] + 35, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] + 9, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] + 20, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 5, this.pos[1] + 42);\n            ctx.lineTo(this.pos[0] - 27, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 19, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] - 45, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] - 14, this.pos[1] + 24);\n            ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n            ctx.fillText(this.leftBars.length, this.pos[0] - 120, this.pos[1] + 150);\n\n            ctx.fillText(this.bars.length, this.pos[0] + 90, this.pos[1] + 150);\n        }\n    }\n}\n\nexport default LeftMostStar;","class MoveableShape {\n    constructor(pos, boundingBox) {\n        this.pos = pos;\n        this.boundingBox = boundingBox;\n        this.isClicked = false;\n    }\n\n    checkBounds(x, y) {\n        let topLeft = (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]);\n        let topRight = (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]);\n        let bottomRight = (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]);\n        let bottomLeft = (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n\n        return topLeft && topRight && bottomRight && bottomLeft;\n    }\n\n    recalculateBoundingBox() {}\n\n    draw(ctx) {}\n}\n\nexport default MoveableShape;","class Star {\n    constructor(pos, gap) {\n        this.pos = pos;\n        this.gap = gap;\n        this.bars = [];\n        this.rightBoundingBox = [\n            [this.pos[0], this.pos[1] - 20],\n            [this.pos[0] + this.gap, this.pos[1] - 20],\n            [this.pos[0] + this.gap, this.pos[1] + 90],\n            [this.pos[0], this.pos[1] + 90]\n        ];\n    }\n\n    checkRightBounds(x, y) {\n        return (x >= this.rightBoundingBox[0][0] && y >= this.rightBoundingBox[0][1]) && (x < this.rightBoundingBox[1][0] && y >= this.rightBoundingBox[1][1]) && (x < this.rightBoundingBox[2][0] && y < this.rightBoundingBox[2][1]) && (x >= this.rightBoundingBox[3][0] && y < this.rightBoundingBox[3][1]);\n    }\n\n    checkRight(bar) {\n        return this.checkRightBounds(bar.boundingBox[0][0], bar.boundingBox[0][1]) && this.checkRightBounds(bar.boundingBox[1][0], bar.boundingBox[1][1]) && this.checkRightBounds(bar.boundingBox[2][0], bar.boundingBox[2][1]) && this.checkRightBounds(bar.boundingBox[3][0], bar.boundingBox[3][1]);\n    }\n\n    addBar(bar) {\n        if(!this.bars.includes(bar) && this.checkRight(bar)) {\n            this.bars.push(bar);\n        }\n    }\n\n    removeBar(bar) {\n        if(this.bars.includes(bar) && !this.checkRight(bar)) {\n            let index = this.bars.indexOf(bar);\n            this.bars.splice(index, 1);\n        }\n    }\n\n    draw(ctx) {\n        if(typeof ctx === \"object\") {\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0] - 5, this.pos[1] - 3);\n            ctx.lineTo(this.pos[0] + 4, this.pos[1] + 24);\n            ctx.lineTo(this.pos[0] + 35, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] + 9, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] + 20, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 5, this.pos[1] + 42);\n            ctx.lineTo(this.pos[0] - 27, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 19, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] - 45, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] - 14, this.pos[1] + 24);\n            ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n            ctx.fillText(this.bars.length, this.pos[0] + 90, this.pos[1] + 150);\n        }\n    }\n}\n\nexport default Star;","class StaticShape {\n    constructor(pos, boundingBox) {\n        this.pos = pos;\n        this.boundingBox = boundingBox;\n        this.items = [];\n    }\n\n    checkBounds(x, y) {\n        let topLeft = (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]);\n        let topRight = (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]);\n        let bottomRight = (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]);\n        let bottomLeft = (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n\n        return topLeft && topRight && bottomRight && bottomLeft;\n    }\n\n    checkItem(item) {\n        let bound1 = this.checkBounds(item.boundingBox[0][0], item.boundingBox[0][1]);\n        let bound2 = this.checkBounds(item.boundingBox[1][0], item.boundingBox[1][1]);\n        let bound3 = this.checkBounds(item.boundingBox[2][0], item.boundingBox[2][1]);\n        let bound4 = this.checkBounds(item.boundingBox[3][0], item.boundingBox[3][1]);\n\n        return bound1 && bound2 && bound3 && bound4;\n    }\n\n    addItem(item) {\n        if(!this.items.includes(item) && this.checkItem(item)) {\n            this.items.push(item);\n        }\n    }\n\n    removeItem(item) {\n        if (this.items.includes(item) && !this.checkItem(item)) {\n            let index = this.items.indexOf(item);\n            this.items.splice(index, 1);\n        }\n    }\n\n    recalculateBoundingBox() {}\n\n    draw(ctx) {}\n}\n\nexport default StaticShape;","import Ball from './ball';\nimport Bin from './bin';\nimport Bar from './bar';\nimport Star from './star';\nimport LeftMostStar from './left_most_star';\n\nclass Validation {\n    constructor() {\n        this.starsAndBars = false;\n        this.moveableShapePosition;\n        this.staticShapePosition;\n        this.setMoveableShapePosition();\n        this.setStaticShapePosition();\n    }\n\n    usesStarsAndBars(moveableType, staticType, restriction) {\n        this.starsAndBars = (moveableType === \"indistinguishable\" && staticType === \"distinguishable\") && (restriction === \"unrestricted\" || restriction === \"surjective\");\n    }\n\n    setMoveableShapePosition() {\n        if(this.starsAndBars) {\n            this.moveableShapePosition = [100, 200];\n        } else {\n            this.moveableShapePosition = [100, 50];\n        }\n    }\n\n    setStaticShapePosition() {\n        if (this.starsAndBars) {\n            this.staticShapePosition = [200, 400];\n        } else {\n            this.staticShapePosition = [245, 440];\n        }\n    }\n\n    setMoveableShapes(numMoveableShapes) {\n        const moveableShapes = new Array(parseInt(numMoveableShapes));\n\n        if(this.starsAndBars) {\n            for (let i = 0; i < moveableShapes.length; i++) {\n                moveableShapes[i] = new Bar([this.moveableShapePosition[0] * (i + 1), this.moveableShapePosition[1]], 10, 60);\n            }\n        } else {\n            for (let i = 0; i < moveableShapes.length; i++) {\n                moveableShapes[i] = new Ball(i + 1, [this.moveableShapePosition[0] * (i + 1), this.moveableShapePosition[1]], 35);\n            }\n        }\n\n        return moveableShapes;\n    }\n\n    setStaticShapes(numStaticShapes) {\n        const staticShapes = new Array(parseInt(numStaticShapes));\n\n        if(this.starsAndBars) {\n            for (let i = 0; i < staticShapes.length; i++) {\n                if (i === 0) {\n                    staticShapes[i] = new LeftMostStar([this.staticShapePosition[0] * (i + 1), this.staticShapePosition[1]], this.staticShapePosition[0]);\n                } else {\n                    staticShapes[i] = new Star([this.staticShapePosition[0] * (i + 1), this.staticShapePosition[1]], this.staticShapePosition[0]);\n                }\n            }\n        }\n        for (let i = 0; i < staticShapes.length; i++) {\n            staticShapes[i] = new Bin(i + 1, [(this.staticShapePosition[0] * i) + 20, this.staticShapePosition[1]], [40, 160, 300]);\n        }\n\n        return staticShapes;\n    }\n\n    addMoveableShape(length) {\n        if(this.starsAndBars) {\n            return new Bar([this.moveableShapePosition[0] * (length + 1), this.moveableShapePosition[1]], 10, 60);\n        } else {\n            return new Ball(length + 1, [this.moveableShapePosition[0] * (length + 1), this.moveableShapePosition[1]], 35);\n        }\n    }\n\n    addStaticShape(length) {\n        if(this.starsAndBars()) {\n            return new Star([this.staticShapePosition[0] * (length + 1), this.staticShapePosition[1]], this.staticShapePosition[0]);\n        } else {\n            return new Bin(length + 1, [(this.staticShapePosition[0] * (length)) + 20, this.staticShapePosition[1]], [40, 160, 300]);\n        }\n    }\n\n    changeLabels() {\n        let ballLabel = document.getElementById(\"ball-label-header\");\n        let binLabel = document.getElementById(\"bin-label-header\");\n\n        if (this.starsAndBars) {\n            ballLabel.innerText = \"Bars\";\n        } else {\n            ballLabel.innerText = \"Balls\";\n        }\n\n        if (this.starsAndBars) {\n            binLabel.innerText = \"Stars\";\n        } else {\n            binLabel.innerText = \"Bins\";\n        }\n    }\n\n    //updateAmount\n    updateDisplayCount(value) {\n        if (this.starsAndBars) {\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = value - 1;\n        } else {\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = value;\n        }\n    }\n}\n\nexport default Validation;","export const determineCases = (ballType, binType) => {\n\n    if (ballType.toLowerCase() === \"distinguishable\") {\n        if (binType.toLowerCase() === \"distinguishable\") {\n            return (bin1, bin2, i) => {\n                return checkOrderOfBalls(bin1.balls, bin2[i].balls);\n            }\n        } else if (binType.toLowerCase() === \"indistinguishable\") {\n            return (bin1, bin2) => {\n                return checkAgainstOtherBins(bin1.balls, bin2, checkForSimilarBalls);\n            }\n        }\n    } else if (ballType.toLowerCase() === \"indistinguishable\") {\n        if (binType.toLowerCase() === \"distinguishable\") {\n            return (bin1, bin2, i) => {\n                return checkTotalBalls(bin1.balls, bin2[i].balls);\n            }\n        } else if (binType.toLowerCase() === \"indistinguishable\") {\n            return (bin1, bin2) => {\n                return checkAgainstOtherBins(bin1.balls, bin2, checkForSimilarLength);\n            }\n        }\n    }\n}\n\n//only if the bins and balls are distinguishable\nconst checkOrderOfBalls = (balls1, balls2) => {\n    if (balls1.length !== balls2.length) return false;\n\n    for (let i = 0; i < balls1.length; i++) {\n        if (balls1[i].label !== balls2[i].label) return false; //return false if the order is incorrect\n    }\n    return true; //return true if the order is the same for both bins\n}\n\n//only if the bins are distinguishable, and balls are indistinguishable, check count of bins\nconst checkTotalBalls = (bin1, bin2) => {\n    return bin1.length === bin2.length\n}\n\n// For a given order of balls, check against other bins in a partition \n// if there exist similar order.\nconst checkAgainstOtherBins = (balls, otherBins, checkCallback) => {\n    for (let i = 0; i < otherBins.length; i++) {\n        if (checkCallback(balls, otherBins[i].balls)) return true;\n    }\n\n    return false;\n}\n\n//this function checks if two bins have the same balls, but not necessarily in order\nconst checkForSimilarBalls = (balls1, balls2) => {\n    if (balls1.length !== balls2.length) return false;\n\n    let labels = {};\n    for(let i = 0; i < balls2.length; i++) {\n        labels[balls2[i].label] = balls2[i].label;\n    }\n\n    for (let i = 0; i < balls1.length; i++) {\n        if (!Boolean(labels[balls1[i].label])) return false; \n    }\n\n    return true; //return true if the order is the same for both bins\n}\n\n//this function checks if two bins have the same amount of balls, regardless of their labels\nconst checkForSimilarLength = (balls1, balls2) => {\n    return balls1.length === balls2.length;\n}\n\nexport const checkConstraints = (rules, bin) => {\n    if (rules.toLowerCase() === \"injective\") {\n        return checkInjective(bin);\n    } else if (rules.toLowerCase() === \"surjective\") {\n        return checkSurjective(bin);\n    } else {\n        return true;\n    }\n}\n\n//if a bin has at most one ball\nconst checkInjective = (bin) => {\n    if (bin.balls.length <= 1) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n//if a bin has at least one ball\nconst checkSurjective = (bin) => {\n    if (bin.balls.length > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}","export const addEventsToCases = (display) => {\n    let case1 = document.getElementsByClassName(\"dd\");\n    let case2 = document.getElementsByClassName(\"di\");\n    let case3 = document.getElementsByClassName(\"id\");\n    let case4 = document.getElementsByClassName(\"ii\");\n\n    for (let i = 0; i < case1.length; i++) {\n        case1[i].addEventListener(\"click\", event => {\n            display.moveableType = \"distinguishable\";\n            display.staticType = \"distinguishable\";\n            display.reset();\n        });\n\n        case2[i].addEventListener(\"click\", event => {\n            display.moveableType = \"distinguishable\";\n            display.staticType = \"indistinguishable\";\n            display.reset();\n        });\n\n        case3[i].addEventListener(\"click\", event => {\n            display.moveableType = \"indistinguishable\";\n            display.staticType = \"distinguishable\";\n            display.reset();\n        });\n\n        case4[i].addEventListener(\"click\", event => {\n            display.moveableType = \"indistinguishable\";\n            display.staticType = \"indistinguishable\";\n            display.reset();\n        });\n    }\n}\n\nexport const addEventsToRules = (display) => {\n    let rule1 = document.getElementsByClassName(\"unr\");\n    let rule2 = document.getElementsByClassName(\"inj\");\n    let rule3 = document.getElementsByClassName(\"sur\");\n\n    for (let i = 0; i < rule1.length; i++) {\n        rule1[i].addEventListener(\"click\", event => {\n            // if (display.usesStarsAndBars()) {\n            //     document.getElementsByClassName(\"num-balls\")[0].innerHTML = parseInt(document.getElementsByClassName(\"num-balls\")[0].innerHTML) + 1;\n            // }\n            display.restriction = \"unrestricted\";\n        })\n        rule2[i].addEventListener(\"click\", event => {\n            // if (display.usesStarsAndBars()) {\n            //     document.getElementsByClassName(\"num-balls\")[0].innerHTML = parseInt(document.getElementsByClassName(\"num-balls\")[0].innerHTML) + 1;\n            // }\n            display.restriction = \"injective\";\n        })\n        rule3[i].addEventListener(\"click\", event => {\n            // if (display.usesStarsAndBars()) {\n            //     document.getElementsByClassName(\"num-balls\")[0].innerHTML = parseInt(document.getElementsByClassName(\"num-balls\")[0].innerHTML) + 1;\n            // }\n            display.restriction = \"surjective\";\n        })\n    }\n}\n\nexport const addEventsToButtons = (display) => {\n    document.getElementsByClassName(\"reset-state\")[0].addEventListener(\"click\", event => {\n        display.resetState();\n        display.start();\n    });\n\n    document.getElementsByClassName(\"reset-problem\")[0].addEventListener(\"click\", event => {\n        display.resetInterface();\n        display.addToConfigurations();\n        display.start();\n    });\n\n    document.getElementsByClassName(\"submit-config\")[0].addEventListener(\"submit\", event => {\n        if(display.usesStarsAndBars()) {\n            if(display.interfaceAlt.addPartition(event, display.rules)) {\n                display.currentPartitions++;\n                display.addToConfigurations();\n            } else {\n                console.log(\"Cannot add partition!\");\n            }\n        } else {\n            if (display.interface.addPartition(event, display.rules, display.ballType, display.binType)) {\n                display.currentPartitions++;\n                display.addToConfigurations();\n                // appendPartition(interfaceView);\n            } else {\n                console.log(\"Cannot add partition!\");\n            }\n        }\n    });\n}\n\nconst appendPartition = (interfaceView) => {\n    const newCanvas = document.createElement(\"CANVAS\");\n    newCanvas.setAttribute(\"width\", \"1000\");\n    newCanvas.setAttribute(\"height\", \"1000\");\n    const ctx = newCanvas.getContext(\"2d\");\n    const history = document.getElementsByClassName(\"history\")[0];\n\n    history.appendChild(newCanvas);\n    interfaceView.interface.partitions.forEach(partition => partition.draw(ctx, interfaceView.interface.balls, interfaceView.binType));\n}","//function naming convention: First character is label (Distinguishable or Indistinguishable) of ball, second character is label of bin, last word is rules\n\nexport const determineFormula = (ballType, binType, rules) => {\n    switch(ballType) {\n        case \"distinguishable\":\n            switch(binType) {\n                case \"distinguishable\":\n                    switch(rules) {\n                        case \"unrestricted\":\n                            return calculateDDUnrestricted;\n                        case \"injective\":\n                            return calculateDDInjective;\n                        case \"surjective\":\n                            return calculateDDSurjective;\n                    }\n                case \"indistinguishable\":\n                    switch(rules) {\n                        case \"unrestricted\":\n                            return calculateDIUnrestricted;\n                        case \"injective\":\n                            return calculateDIInjective;\n                        case \"surjective\":\n                            return calculateDISurjective;\n                    }\n            }\n        case \"indistinguishable\":\n            switch (binType) {\n                case \"distinguishable\":\n                    switch (rules) {\n                        case \"unrestricted\":\n                            return calculateIDUnrestricted;\n                        case \"injective\":\n                            return calculateIDInjective;\n                        case \"surjective\":\n                            return calculateIDSurjective;\n                    }\n                case \"indistinguishable\":\n                    switch (rules) {\n                        case \"unrestricted\":\n                            return calculateIIUnrestricted;\n                        case \"injective\":\n                            return calculateIIInjective;\n                        case \"surjective\":\n                            return calculateIISurjective;\n                    }\n            }\n        default:\n            return null;\n    };\n};\n\n//k distinguishable balls, n distinguishable bins, no restrictions\nconst calculateDDUnrestricted = (k, n) => {\n    return Math.pow(n, k);\n};\n\n//k distinguishable balls, n distinguishable bins, injective\nconst calculateDDInjective = (k, n) => {\n    if(k > n) return 0;\n\n    return calculateFactorial(n) / calculateFactorial(n-k);\n};\n\n//k distinguishable balls, n distinguishable bins, surjective\nconst calculateDDSurjective = (k, n) => {\n    return calculateStirlingNumber(k, n) * calculateFactorial(n);\n};\n\n//k indistinguishable balls, n distinguishable bins, no restrictions\nconst calculateIDUnrestricted = (k, n) => {\n    return calculateBinomialCoefficient(n + k - 1, k - 1);\n};\n\n//k indistinguishable balls, n distinguishable bins, injective\nconst calculateIDInjective = (k, n) => {\n    return calculateBinomialCoefficient(n, k);\n};\n\n//k indistinguishable balls, n distinguishable bins, surjective\nconst calculateIDSurjective = (k, n) => {\n    return calculateBinomialCoefficient(n - 1, k - 1);\n};\n\n//k distinguishable balls, n indistinguishable bins, no restrictions\nconst calculateDIUnrestricted = (k, n) => {\n    let numbers = getNumbersArray(n);\n    let formula = (acc, i) => acc + calculateStirlingNumber(k, i)\n    return numbers.reduce(formula, 0);\n};\n\n//k distinguishable balls, n indistinguishable bins, injective\nconst calculateDIInjective = (k, n) => {\n    if(k <= n) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n//k distinguishable balls, n indistinguishable bins, surjective\nconst calculateDISurjective = (k, n) => {\n    return calculateStirlingNumber(k, n);\n};\n\n//k indistinguishable balls, n indistinguishable bins, no restrictions\nconst calculateIIUnrestricted = (n, k) => {\n\n};\n\n//k indistinguishable balls, n indistinguishable bins, injective\nconst calculateIIInjective = (k, n) => {\n    if (k <= n) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n//k indistinguishable balls, n indistinguishable bins, surjective\nconst calculateIISurjective = (n, k) => {\n\n};\n\nconst calculateStirlingNumber = (n, k) => {\n    let numbers = getNumbersArray(k);\n    let formula = (acc, i) => acc + (Math.pow(-1, i) * calculateBinomialCoefficient(k, i) * Math.pow(k - i, n))\n    let sumResults = numbers.reduce(formula, 0);\n\n    return (1/calculateFactorial(k)) * sumResults;\n};\n\nconst calculateBinomialCoefficient = (n, k) => {\n    return Math.floor(calculateFactorial(n) / (calculateFactorial(n-k) * calculateFactorial(k)));\n};\n\nconst calculateFactorial = (n) => {\n    let total = 1;\n    while(n > 0) {\n        total *= n;\n        n -= 1;\n    }\n    return total;\n}\n\nconst getNumbersArray = (n) => {\n    let numbers = new Array(n + 1);\n    for (let i = 0; i < numbers.length; i++) {\n        numbers[i] = i;\n    }\n    return numbers;\n}"],"sourceRoot":""}