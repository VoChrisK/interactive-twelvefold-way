{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ball.js","webpack:///./src/bar.js","webpack:///./src/bin.js","webpack:///./src/configuration.js","webpack:///./src/display.js","webpack:///./src/distribution.js","webpack:///./src/index.js","webpack:///./src/interaction.js","webpack:///./src/moveable_shape.js","webpack:///./src/star.js","webpack:///./src/static_shape.js","webpack:///./util/checks.js","webpack:///./util/event_listeners.js","webpack:///./util/formulas.js"],"names":["Ball","label","pos","radius","boundingBox","ctx","ballType","recalculateBoundingBox","beginPath","arc","Math","PI","stroke","font","fillText","MoveableShape","Bar","width","height","moveTo","lineTo","fill","Bin","bounds","binType","items","length","StaticShape","Configuration","staticShapes","otherShapes","checkBothShapes","counter","i","staticType","forEach","staticShape","draw","moveableShape","Display","moveableType","restriction","totalConfigurations","distribution","Distribution","usesStarsAndBars","numMoveableShapes","document","getElementsByClassName","innerHTML","numStaticShapes","moveableShapes","setMoveableShapes","setStaticShapes","interaction","Interaction","configurations","determineFormula","addToConfigurations","canvasEl","newValue","getElementById","addEventListener","event","preventDefault","target","value","addMoveableShape","removeMoveableShape","clearRect","clientWidth","calculateFormula","start","starsAndBars","addStaticShape","removeStaticShape","resetState","changeDisplay","resetInterface","setMoveableShapePosition","setStaticShapePosition","updateDisplayCount","updateValues","changeLabels","moveableShapePosition","staticShapePosition","Array","parseInt","Star","push","ballLabel","binLabel","innerText","getContext","result","display","animation","checkBounds","offsetX","offsetY","window","requestAnimationFrame","isClicked","shape","cancelAnimationFrame","otherShape","addItem","removeItem","EventListeners","updateCount","pop","checkConstraints","reduce","acc","checkStaticShapes","determineCases","checkEachConfiguration","checkMoveableShapes","checkIDSurjective","violateRestriction","newStaticShapes","x","y","topLeft","topRight","bottomRight","bottomLeft","gap","closePath","item","bound1","bound2","bound3","bound4","includes","checkItem","index","indexOf","splice","toLowerCase","shape1","shape2","checkOrderOfShapes","checkAgainstOtherShapes","checkForSimilarShapes","checkTotalShapes","checkForSimilarLength","items1","items2","checkCallback","labels","Boolean","checkInjective","checkSurjective","shapes","addEventsToCases","case1","case2","case3","case4","restart","addEventsToRules","rule1","rule2","rule3","addEventsToButtons","addConfiguration","appendPartition","console","log","newCanvas","createElement","setAttribute","history","appendChild","configuration","rules","calculateDDUnrestricted","calculateDDInjective","calculateDDSurjective","calculateDIUnrestricted","calculateDIInjective","calculateDISurjective","calculateIDUnrestricted","calculateIDInjective","calculateIDSurjective","calculateIIUnrestricted","calculateIIInjective","calculateIISurjective","k","n","pow","calculateFactorial","calculateStirlingNumber","calculateBinomialCoefficient","numbers","getNumbersArray","formula","sumResults","floor","total"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import MoveableShape from './moveable_shape';\n\nclass Ball extends MoveableShape {\n    constructor(label, pos, radius) {\n        const boundingBox = [\n            [pos[0] - radius, pos[1] - radius],\n            [pos[0] + radius, pos[1] - radius],\n            [pos[0] + radius, pos[1] + radius],\n            [pos[0] - radius, pos[1] + radius]\n        ];\n        super(pos, boundingBox);\n        this.label = label;\n        this.radius = radius;\n    }\n\n    draw(ctx, ballType) {\n        if(typeof ctx === \"object\") { //ctx is a number when clicked so I need to have a conditional here\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.arc(this.pos[0], this.pos[1], this.radius, 0, Math.PI * 2);\n            ctx.stroke();\n            ctx.font = \"30px sans-serif\";\n\n            if(ballType === \"distinguishable\") {\n                ctx.fillText(this.label, this.pos[0] - 8, this.pos[1] + 8);\n            }\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0] - this.radius, this.pos[1] - this.radius],\n            [this.pos[0] + this.radius, this.pos[1] - this.radius],\n            [this.pos[0] + this.radius, this.pos[1] + this.radius],\n            [this.pos[0] - this.radius, this.pos[1] + this.radius]\n        ];\n    }\n}\n\nexport default Ball;","import MoveableShape from './moveable_shape';\n\nclass Bar extends MoveableShape {\n    constructor(pos, width, height) {\n        const boundingBox = [\n            [pos[0], pos[1]],\n            [pos[0] + width, pos[1]],\n            [pos[0] + width, pos[1] + height],\n            [pos[0], pos[1] + height]\n        ];\n        super(pos, boundingBox);\n        this.width = width;\n        this.height = height;\n    }\n\n    draw(ctx) {\n        if(typeof ctx === \"object\") {\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0], this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.width, this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.width, this.pos[1] + this.height);\n            ctx.lineTo(this.pos[0], this.pos[1] + this.height);\n            ctx.lineTo(this.pos[0], this.pos[1]);\n            ctx.stroke();\n            ctx.fill();\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1] + this.height],\n            [this.pos[0], this.pos[1] + this.height]\n        ];\n    }\n}\n\nexport default Bar;","import StaticShape from './static_shape';\n\nclass Bin extends StaticShape {\n    constructor(label, pos, bounds) {\n        const boundingBox = [\n            [pos[0], pos[1]],\n            [pos[0] + bounds[0] + bounds[1], pos[1]],\n            [pos[0] + bounds[1], pos[1] + bounds[2]],\n            [pos[0] + bounds[0], pos[1] + bounds[2]]\n        ];\n        super(pos, boundingBox);\n        this.label = label;\n        this.bounds = bounds //[X1, X2, Y]\n    }\n\n    // checkBounds(x, y) {\n    //     return (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]) && (x >= this.boundingBox[1][0] && y < this.boundingBox[1][1]) && (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]) && (x < this.boundingBox[3][0] && y >= this.boundingBox[3][1]);\n    // }\n\n    // checkCollision(x, y) {\n    //     let line1 = [this.boundingBox[1][0] - this.boundingBox[0][0], this.boundingBox[1][1] - this.boundingBox[0][1]];\n    //     let line2 = [this.boundingBox[2][0] - this.boundingBox[1][0], this.boundingBox[2][1] - this.boundingBox[1][1]];\n    //     let line3 = [this.boundingBox[3][0] - this.boundingBox[2][0], this.boundingBox[3][1] - this.boundingBox[2][1]];\n\n    //     if(x === line1[0], y === line1[1]) {\n    //         this.pos = line1;\n    //     } else if(x === line2[0], line2[1]) {\n    //         this.pos = line2;\n    //     } else if(x === line3[0], line3[1]) {\n\n    //     }\n    // }\n\n    draw(ctx, binType) {\n        if (typeof ctx === \"object\") {\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0], this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.bounds[0], this.pos[1] + this.bounds[2]);\n            ctx.lineTo(this.pos[0] + this.bounds[1], this.pos[1] + this.bounds[2]);\n            ctx.lineTo(this.pos[0] + this.bounds[0] + this.bounds[1], this.pos[1]);\n            ctx.stroke();\n\n            if(binType === \"distinguishable\") {\n                ctx.fillText(this.label, this.pos[0] + 95, this.pos[1] + 150);\n            }\n\n            ctx.fillText(this.items.length, this.pos[0] + this.bounds[1] - 65, this.pos[1] + this.bounds[2] + 30);\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.bounds[0] + this.bounds[1], this.pos[1]],\n            [this.pos[0] + this.bounds[1], this.pos[1] + this.bounds[2]],\n            [this.pos[0] + this.bounds[0], this.pos[1] + this.bounds[2]]\n        ];\n    }\n}\n\nexport default Bin;","//true values denote there exists a partition, false values denote there doesn't not exist a partition\nclass Configuration {\n    constructor(staticShapes) {\n        this.staticShapes = staticShapes;\n    }\n\n    //this function checks if there is a parititon. \n    //It matches each input's bin with each partition's \n    //bin to check if they have the same configuration. \n    //A counter variable keeps track of simiarities: if \n    //the counter equals to the total # of bins, then this \n    //implies that the partition already exists or the parition\n    //does not adhere to the rules\n    checkStaticShapes(otherShapes, checkBothShapes) {\n        let counter = 0;\n        for(let i = 0; i < this.staticShapes.length; i++) {\n            if (checkBothShapes(otherShapes[i], this.staticShapes, i)) {\n                counter++;\n            }\n        }\n\n        return counter === this.staticShapes.length;\n    }\n\n    draw(ctx, staticType) {\n        this.staticShapes.forEach(staticShape => {\n            staticShape.draw(ctx, staticType);\n            staticShape.items.forEach(moveableShape => moveableShape.draw(ctx))\n        });\n    }\n}\n\nexport default Configuration;","import Interaction from \"./interaction\";\nimport { determineFormula } from '../util/formulas';\nimport Distribution from './distribution';\n\n//this class is concerned with the presentation/event handling of the interface\nclass Display {\n    constructor(moveableType, staticType, restriction, totalConfigurations, ctx) {\n        this.moveableType = moveableType;\n        this.staticType = staticType;\n        this.restriction = restriction;\n        this.totalConfigurations = totalConfigurations;\n        this.ctx = ctx;\n        this.distribution = new Distribution();\n        this.distribution.usesStarsAndBars(this.moveableType, this.staticType, this.restriction);\n        const numMoveableShapes = document.getElementsByClassName(\"num-balls\")[0].innerHTML;\n        const numStaticShapes = document.getElementsByClassName(\"num-bins\")[0].innerHTML;\n        const moveableShapes = this.distribution.setMoveableShapes(numMoveableShapes);\n        const staticShapes = this.distribution.setStaticShapes(numStaticShapes);\n        this.interaction = new Interaction(moveableShapes, staticShapes);\n    }\n\n    addToConfigurations() {\n        document.getElementsByClassName(\"configuration-count\")[0].innerHTML = `Configurations: ${this.interaction.configurations.length}/${this.totalConfigurations}`;\n    }\n\n    //account for stars and bars later\n    calculateFormula() {\n        this.totalConfigurations = determineFormula(this.moveableType, this.staticType, this.restriction)(this.interaction.moveableShapes.length, this.interaction.staticShapes.length);\n        this.addToConfigurations();\n    }\n\n    updateValues() {\n        const numMoveableShapes = document.getElementsByClassName(\"num-balls\")[0].innerHTML;\n        const numStaticShapes = document.getElementsByClassName(\"num-bins\")[0].innerHTML;\n        const moveableShapes = this.distribution.setMoveableShapes(numMoveableShapes);\n        const staticShapes = this.distribution.setStaticShapes(numStaticShapes);\n        this.interaction.setMoveableShapes(moveableShapes);\n        this.interaction.setStaticShapes(staticShapes);\n    }\n\n    updateCount(canvasEl) {\n        let newValue;\n\n        document.getElementById(\"ball-count\").addEventListener(\"input\", event => {\n            event.preventDefault();\n            newValue = event.target.value;\n            let moveableShape;\n\n            if(newValue > this.interaction.moveableShapes.length) {\n                moveableShape = this.distribution.addMoveableShape(this.interaction.moveableShapes.length);\n                this.interaction.addMoveableShape(moveableShape);\n            } else {\n                this.interaction.removeMoveableShape();\n                this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n            }\n            this.calculateFormula();\n            this.start();\n        });\n\n        document.getElementById(\"bin-count\").addEventListener(\"input\", event => {\n            newValue = event.target.value;\n            document.getElementsByClassName(\"num-bins\")[0].innerHTML = event.target.value;\n            let staticShape;\n            let length = this.interaction.staticShapes.length;\n\n            if(this.distribution.starsAndBars) length -= 1;\n\n            if(newValue > length) {\n                staticShape = this.distribution.addStaticShape(this.interaction.staticShapes.length);\n                this.interaction.addStaticShape(staticShape);\n            } else {\n                this.interaction.removeStaticShape();\n                this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n            }\n\n            this.calculateFormula();\n            this.start();\n        });\n    }\n\n    resetState() {\n        this.interaction.setMoveableShapes(this.interaction.moveableShapes);\n        this.interaction.setStaticShapes(this.interaction.staticShapes);\n        const canvasEl = document.getElementById(\"canvas\");\n        this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n    }\n\n    resetInterface() {\n        this.resetState();\n        this.interaction.configurations = [];\n    }\n\n    restart() {\n        this.changeDisplay();\n        this.calculateFormula();\n        this.resetInterface();\n        this.start();\n    }\n\n    changeDisplay() {\n        if (this.distribution.starsAndBars !== this.distribution.usesStarsAndBars(this.moveableType, this.staticType, this.restriction)) {\n            this.distribution.starsAndBars = this.distribution.usesStarsAndBars(this.moveableType, this.staticType, this.restriction);\n            this.distribution.setMoveableShapePosition();\n            this.distribution.setStaticShapePosition();\n            this.distribution.updateDisplayCount(this.interaction.moveableShapes.length);\n            this.updateValues();\n            this.distribution.changeLabels();\n        }\n    }\n\n    start() {\n        this.interaction.draw(this.ctx, this.moveableType, this.staticType);\n    }\n}\n\nexport default Display;","import Ball from './ball';\nimport Bin from './bin';\nimport Bar from './bar';\nimport Star from './star';\n\nclass Distribution {\n    constructor() {\n        this.starsAndBars = false;\n        this.moveableShapePosition;\n        this.staticShapePosition;\n        this.setMoveableShapePosition();\n        this.setStaticShapePosition();\n    }\n\n    usesStarsAndBars(moveableType, staticType, restriction) {\n        return moveableType === \"indistinguishable\" && staticType === \"distinguishable\" && (restriction === \"unrestricted\" || restriction === \"surjective\");\n    }\n\n    setMoveableShapePosition() {\n        if(this.starsAndBars) {\n            this.moveableShapePosition = [100, 200];\n        } else {\n            this.moveableShapePosition = [100, 50];\n        }\n    }\n\n    setStaticShapePosition() {\n        if (this.starsAndBars) {\n            this.staticShapePosition = [200, 400];\n        } else {\n            this.staticShapePosition = [245, 440];\n        }\n    }\n\n    setMoveableShapes(numMoveableShapes) {\n        const moveableShapes = new Array(parseInt(numMoveableShapes));\n\n        if(this.starsAndBars) {\n            for (let i = 0; i < moveableShapes.length; i++) {\n                moveableShapes[i] = new Bar([this.moveableShapePosition[0] * (i + 1), this.moveableShapePosition[1]], 10, 60);\n            }\n        } else {\n            for (let i = 0; i < moveableShapes.length; i++) {\n                moveableShapes[i] = new Ball(i + 1, [this.moveableShapePosition[0] * (i + 1), this.moveableShapePosition[1]], 35);\n            }\n        }\n\n        return moveableShapes;\n    }\n\n    setStaticShapes(numStaticShapes) {\n        const staticShapes = new Array(parseInt(numStaticShapes));\n        if(this.starsAndBars) {\n            for (let i = 0; i < staticShapes.length; i++) {\n                staticShapes[i] = new Star([this.staticShapePosition[0] * i - 50, this.staticShapePosition[1]], this.staticShapePosition[0]);\n            }\n            staticShapes.push(this.addStaticShape(staticShapes.length));\n        } else {\n            for (let i = 0; i < staticShapes.length; i++) {\n                staticShapes[i] = new Bin(i + 1, [(this.staticShapePosition[0] * i) + 20, this.staticShapePosition[1]], [40, 160, 300]);\n            }\n        }\n\n        return staticShapes;\n    }\n\n    addMoveableShape(length) {\n        if(this.starsAndBars) {\n            return new Bar([this.moveableShapePosition[0] * (length + 1), this.moveableShapePosition[1]], 10, 60);\n        } else {\n            return new Ball(length + 1, [this.moveableShapePosition[0] * (length + 1), this.moveableShapePosition[1]], 35);\n        }\n    }\n\n    addStaticShape(length) {\n        if(this.starsAndBars) {\n            return new Star([this.staticShapePosition[0] * length - 50, this.staticShapePosition[1]], this.staticShapePosition[0]);\n        } else {\n            return new Bin(length + 1, [(this.staticShapePosition[0] * (length)) + 20, this.staticShapePosition[1]], [40, 160, 300]);\n        }\n    }\n\n    changeLabels() {\n        let ballLabel = document.getElementById(\"ball-label-header\");\n        let binLabel = document.getElementById(\"bin-label-header\");\n\n        if (this.starsAndBars) {\n            ballLabel.innerText = \"Bars\";\n        } else {\n            ballLabel.innerText = \"Balls\";\n        }\n\n        if (this.starsAndBars) {\n            binLabel.innerText = \"Stars\";\n        } else {\n            binLabel.innerText = \"Bins\";\n        }\n    }\n\n    //updateAmount\n    updateDisplayCount(value) {\n        if (this.starsAndBars) {\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = value - 1;\n        } else {\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = value + 1;\n        }\n    }\n}\n\nexport default Distribution;","import Display from './display';\nimport { determineFormula } from './../util/formulas';\nimport * as EventListeners from './../util/event_listeners';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvasEl = document.getElementById(\"canvas\");\n    const ctx = canvasEl.getContext(\"2d\");\n    const result = determineFormula(\"distinguishable\", \"distinguishable\", \"unrestricted\")(document.getElementsByClassName(\"num-balls\")[0].innerHTML, document.getElementsByClassName(\"num-bins\")[0].innerHTML);\n    const display = new Display(\"distinguishable\", \"distinguishable\", \"unrestricted\", result, ctx);\n    let animation;\n\n    canvasEl.addEventListener(\"mousedown\", event => {\n        for(let i = 0; i < display.interaction.moveableShapes.length; i++) {\n            if (display.interaction.moveableShapes[i].checkBounds(event.offsetX, event.offsetY)) {\n                animation = window.requestAnimationFrame(display.interaction.moveableShapes[i].draw);\n                display.interaction.moveableShapes[i].isClicked = true;\n                break; //break here to resolve conflict between overlapping balls\n            }\n        }\n    });\n\n    canvasEl.addEventListener(\"mousemove\", event => {\n        display.interaction.moveableShapes.forEach(shape => {\n            if (shape.isClicked) {\n                ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height); //clear canvas to prevent trailing circles\n                shape.pos[0] = event.offsetX;\n                shape.pos[1] = event.offsetY;\n            }\n        });\n        display.start();\n    });\n\n    canvasEl.addEventListener(\"mouseup\", event => {\n        window.cancelAnimationFrame(animation);\n        ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height); //clear canvas to prevent trailing circles\n        display.interaction.moveableShapes.forEach(shape => {\n            if (shape.isClicked) {\n                shape.isClicked = false;\n                display.interaction.staticShapes.forEach(otherShape => {\n                    otherShape.addItem(shape);\n                    otherShape.removeItem(shape);\n                });\n            }\n        });\n        display.start();\n    });\n\n    EventListeners.addEventsToRules(display);\n    EventListeners.addEventsToCases(display);\n    EventListeners.addEventsToButtons(display);\n    display.updateCount(canvasEl);\n    display.start();\n});","import Configuration from './configuration';\nimport { determineCases, checkConstraints, checkIDSurjective } from '../util/checks';\n\nclass Interaction {\n    constructor(moveableShapes, staticShapes) {\n        this.moveableShapes = moveableShapes;\n        this.staticShapes = staticShapes;\n        this.configurations = [];\n    }\n\n    setMoveableShapes(moveableShapes) {\n        this.moveableShapes = moveableShapes;\n    }\n\n    setStaticShapes(staticShapes) {\n        this.staticShapes = staticShapes;\n    }\n\n    addMoveableShape(moveableShape) {\n        this.moveableShapes.push(moveableShape);\n    }\n\n    removeMoveableShape() {\n        this.moveableShapes.pop();\n    }\n\n    addStaticShape(staticShape) {\n        this.staticShapes.push(staticShape);\n    }\n\n    removeStaticShape() {\n        this.staticShapes.pop();\n    }\n\n    violateRestriction(restriction) {\n        for(let i = 0; i < this.staticShapes.length; i++) {\n            if(!checkConstraints(restriction, this.staticShapes[i])) return true;\n        }\n\n        return false;\n    }\n\n    //this function checks if all balls are in the bins by checking if the total balls in bins equals to the total balls\n    checkMoveableShapes() {\n        return this.moveableShapes.length === this.staticShapes.reduce((acc, shape) => acc + shape.items.length, 0);\n    }\n\n    //checks if there exists a partition that is identical. Returns true if that's the case\n    checkEachConfiguration(moveableType, staticType) {\n        for (let i = 0; i < this.configurations.length; i++) {\n            if (this.configurations[i].checkStaticShapes(this.staticShapes, determineCases(moveableType, staticType))) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    addConfiguration(event, restriction, moveableType, staticType, starsAndBars) {\n        event.preventDefault();\n        if(this.checkEachConfiguration(moveableType, staticType) || !this.checkMoveableShapes()) return false;\n        if(starsAndBars && restriction === \"surjective\") {\n            if(!checkIDSurjective(this.staticShapes)) return false;\n        } else {\n            if(this.violateRestriction(restriction)) return false;\n        }\n\n        this.configurations.push(new Configuration(this.staticShapes));\n        return true;\n    }\n\n    cloneStaticShapes() {\n        let newStaticShapes = [];\n    }\n\n    // cloneBins() {\n    //     let newBins = [];\n    //     let newBalls;\n    //     let newBin;\n    //     let newBall;\n\n    //     this.bins.forEach(bin => {\n    //         newBalls = [];\n    //         bin.balls.forEach(ball => {\n    //             newBall = Object.assign({}, ball);\n    //             newBalls.push(newBall);\n    //         });\n    //         newBin = Object.create(Bin.prototype, bin);\n    //         console.log(newBin);\n    //         newBin.balls = newBalls;\n    //         newBins.push(newBin);\n    //     });\n    //     return newBins;\n    // }\n\n    draw(ctx, moveableType, staticType) {\n        this.moveableShapes.forEach(shape => shape.draw(ctx, moveableType));\n        this.staticShapes.forEach(shape => shape.draw(ctx, staticType));\n    }\n}\n\nexport default Interaction;","class MoveableShape {\n    constructor(pos, boundingBox) {\n        this.pos = pos;\n        this.boundingBox = boundingBox;\n        this.isClicked = false;\n    }\n\n    checkBounds(x, y) {\n        let topLeft = (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]);\n        let topRight = (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]);\n        let bottomRight = (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]);\n        let bottomLeft = (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n\n        return topLeft && topRight && bottomRight && bottomLeft;\n    }\n\n    recalculateBoundingBox() {}\n\n    draw(ctx) {}\n}\n\nexport default MoveableShape;","import StaticShape from './static_shape';\n\nclass Star extends StaticShape {\n    constructor(pos, gap) {\n        const boundingBox = [\n            [pos[0], pos[1] - 20],\n            [pos[0] + gap, pos[1] - 20],\n            [pos[0] + gap, pos[1] + 90],\n            [pos[0], pos[1] + 90]\n        ];\n        super(pos, boundingBox);\n        this.gap = gap;\n    }\n\n    draw(ctx) {\n        if(typeof ctx === \"object\") {\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0] - 5, this.pos[1] - 3);\n            ctx.lineTo(this.pos[0] + 4, this.pos[1] + 24);\n            ctx.lineTo(this.pos[0] + 35, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] + 9, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] + 20, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 5, this.pos[1] + 42);\n            ctx.lineTo(this.pos[0] - 27, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 19, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] - 45, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] - 14, this.pos[1] + 24);\n            ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n            ctx.fillText(this.items.length, this.pos[0] + 90, this.pos[1] + 150);\n        }\n    }\n}\n\nexport default Star;","class StaticShape {\n    constructor(pos, boundingBox) {\n        this.pos = pos;\n        this.boundingBox = boundingBox;\n        this.items = [];\n    }\n\n    checkBounds(x, y) {\n        let topLeft = (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]);\n        let topRight = (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]);\n        let bottomRight = (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]);\n        let bottomLeft = (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n\n        return topLeft && topRight && bottomRight && bottomLeft;\n    }\n\n    checkItem(item) {\n        let bound1 = this.checkBounds(item.boundingBox[0][0], item.boundingBox[0][1]);\n        let bound2 = this.checkBounds(item.boundingBox[1][0], item.boundingBox[1][1]);\n        let bound3 = this.checkBounds(item.boundingBox[2][0], item.boundingBox[2][1]);\n        let bound4 = this.checkBounds(item.boundingBox[3][0], item.boundingBox[3][1]);\n\n        return bound1 && bound2 && bound3 && bound4;\n    }\n\n    addItem(item) {\n        if(!this.items.includes(item) && this.checkItem(item)) {\n            this.items.push(item);\n        }\n    }\n\n    removeItem(item) {\n        if (this.items.includes(item) && !this.checkItem(item)) {\n            let index = this.items.indexOf(item);\n            this.items.splice(index, 1);\n        }\n    }\n\n    recalculateBoundingBox() {}\n\n    draw(ctx) {}\n}\n\nexport default StaticShape;","export const determineCases = (moveableType, staticType) => {\n\n    if (moveableType.toLowerCase() === \"distinguishable\") {\n        if (staticType.toLowerCase() === \"distinguishable\") {\n            return (shape1, shape2, i) => {\n                return checkOrderOfShapes(shape1.items, shape2[i].items);\n            }\n        } else if (staticType.toLowerCase() === \"indistinguishable\") {\n            return (shape1, shape2) => {\n                return checkAgainstOtherShapes(shape1.items, shape2, checkForSimilarShapes);\n            }\n        }\n    } else if (moveableType.toLowerCase() === \"indistinguishable\") {\n        if (staticType.toLowerCase() === \"distinguishable\") {\n            return (shape1, shape2, i) => {\n                return checkTotalShapes(shape1.items, shape2[i].items);\n            }\n        } else if (staticType.toLowerCase() === \"indistinguishable\") {\n            return (shape1, shape2) => {\n                return checkAgainstOtherShapes(shape1.items, shape2, checkForSimilarLength);\n            }\n        }\n    }\n}\n\n//only if the bins and balls are distinguishable\nconst checkOrderOfShapes = (items1, items2) => {\n    if (items1.length !== items2.length) return false;\n\n    for (let i = 0; i < items1.length; i++) {\n        if (items1[i].label !== items2[i].label) return false; //return false if the order is incorrect\n    }\n    return true; //return true if the order is the same for both bins\n}\n\n//only if the bins are distinguishable, and balls are indistinguishable, check count of bins\nconst checkTotalShapes = (items1, items2) => {\n    return items1.length === items2.length;\n}\n\n// For a given order of balls, check against other bins in a partition \n// if there exist similar order.\nconst checkAgainstOtherShapes = (items, otherShapes, checkCallback) => {\n    for (let i = 0; i < otherShapes.length; i++) {\n        if (checkCallback(items, otherShapes[i].items)) return true;\n    }\n\n    return false;\n}\n\n//this function checks if two bins have the same balls, but not necessarily in order\nconst checkForSimilarShapes = (items1, items2) => {\n    if (items1.length !== items2.length) return false;\n\n    let labels = {};\n    for(let i = 0; i < items2.length; i++) {\n        labels[items2[i].label] = items2[i].label;\n    }\n\n    for (let i = 0; i < items1.length; i++) {\n        if (!Boolean(labels[items1[i].label])) return false; \n    }\n\n    return true; //return true if the order is the same for both bins\n}\n\n//this function checks if two bins have the same amount of balls, regardless of their labels\nconst checkForSimilarLength = (items1, items2) => {\n    return items1.length === items2.length;\n}\n\nexport const checkConstraints = (restriction, shape) => {\n    if (restriction.toLowerCase() === \"injective\") {\n        return checkInjective(shape);\n    } else if (restriction.toLowerCase() === \"surjective\") {\n        return checkSurjective(shape);\n    } else {\n        return true;\n    }\n};\n\nexport const checkIDSurjective = (shapes) => {\n    if (shapes[0].items.length > 0 || shapes[shapes.length - 1].items.length > 0) return false;\n    for(let i = 1; i < shapes.length - 1; i++) {\n        if(!checkInjective(shapes[i])) return false;\n    }\n\n    return true;\n};\n\n//if a bin has at most one ball\nconst checkInjective = (shape) => {\n    if (shape.items.length <= 1) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\n//if a bin has at least one ball\nconst checkSurjective = (shape) => {\n    if (shape.items.length > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}","export const addEventsToCases = (display) => {\n    let case1 = document.getElementsByClassName(\"dd\");\n    let case2 = document.getElementsByClassName(\"di\");\n    let case3 = document.getElementsByClassName(\"id\");\n    let case4 = document.getElementsByClassName(\"ii\");\n\n    for (let i = 0; i < case1.length; i++) {\n        case1[i].addEventListener(\"click\", event => {\n            display.moveableType = \"distinguishable\";\n            display.staticType = \"distinguishable\";\n            display.restart();\n        });\n\n        case2[i].addEventListener(\"click\", event => {\n            display.moveableType = \"distinguishable\";\n            display.staticType = \"indistinguishable\";\n            display.restart();\n        });\n\n        case3[i].addEventListener(\"click\", event => {\n            display.moveableType = \"indistinguishable\";\n            display.staticType = \"distinguishable\";\n            display.restart();\n        });\n\n        case4[i].addEventListener(\"click\", event => {\n            display.moveableType = \"indistinguishable\";\n            display.staticType = \"indistinguishable\";\n            display.restart();\n        });\n    }\n}\n\nexport const addEventsToRules = (display) => {\n    let rule1 = document.getElementsByClassName(\"unr\");\n    let rule2 = document.getElementsByClassName(\"inj\");\n    let rule3 = document.getElementsByClassName(\"sur\");\n\n    for (let i = 0; i < rule1.length; i++) {\n        rule1[i].addEventListener(\"click\", event => {\n            display.restriction = \"unrestricted\";\n        })\n        rule2[i].addEventListener(\"click\", event => {\n            display.restriction = \"injective\";\n        })\n        rule3[i].addEventListener(\"click\", event => {\n            display.restriction = \"surjective\";\n        })\n    }\n}\n\nexport const addEventsToButtons = (display) => {\n    document.getElementsByClassName(\"reset-state\")[0].addEventListener(\"click\", event => {\n        display.resetState();\n        display.start();\n    });\n\n    document.getElementsByClassName(\"reset-problem\")[0].addEventListener(\"click\", event => {\n        display.resetInterface();\n        display.addToConfigurations();\n        display.start();\n    });\n\n    document.getElementsByClassName(\"submit-config\")[0].addEventListener(\"submit\", event => {\n        if (display.interaction.addConfiguration(event, display.restriction, display.moveableType, display.staticType, display.distribution.starsAndBars)) {\n            display.addToConfigurations();\n            appendPartition(display);\n        } else {\n            console.log(\"Cannot add partition!\");\n        }\n    });\n}\n\nconst appendPartition = (display) => {\n    const newCanvas = document.createElement(\"CANVAS\");\n    newCanvas.setAttribute(\"width\", \"300\");\n    newCanvas.setAttribute(\"height\", \"300\");\n    const ctx = newCanvas.getContext(\"2d\");\n    const history = document.getElementsByClassName(\"history\")[0];\n\n    history.appendChild(newCanvas);\n    display.interaction.configurations.forEach(configuration => configuration.draw(ctx, display.staticType));\n}","//function naming convention: First character is label (Distinguishable or Indistinguishable) of ball, second character is label of bin, last word is rules\n\nexport const determineFormula = (ballType, binType, rules) => {\n    switch(ballType) {\n        case \"distinguishable\":\n            switch(binType) {\n                case \"distinguishable\":\n                    switch(rules) {\n                        case \"unrestricted\":\n                            return calculateDDUnrestricted;\n                        case \"injective\":\n                            return calculateDDInjective;\n                        case \"surjective\":\n                            return calculateDDSurjective;\n                    }\n                case \"indistinguishable\":\n                    switch(rules) {\n                        case \"unrestricted\":\n                            return calculateDIUnrestricted;\n                        case \"injective\":\n                            return calculateDIInjective;\n                        case \"surjective\":\n                            return calculateDISurjective;\n                    }\n            }\n        case \"indistinguishable\":\n            switch (binType) {\n                case \"distinguishable\":\n                    switch (rules) {\n                        case \"unrestricted\":\n                            return calculateIDUnrestricted;\n                        case \"injective\":\n                            return calculateIDInjective;\n                        case \"surjective\":\n                            return calculateIDSurjective;\n                    }\n                case \"indistinguishable\":\n                    switch (rules) {\n                        case \"unrestricted\":\n                            return calculateIIUnrestricted;\n                        case \"injective\":\n                            return calculateIIInjective;\n                        case \"surjective\":\n                            return calculateIISurjective;\n                    }\n            }\n        default:\n            return null;\n    };\n};\n\n//k distinguishable balls, n distinguishable bins, no restrictions\nconst calculateDDUnrestricted = (k, n) => {\n    return Math.pow(n, k);\n};\n\n//k distinguishable balls, n distinguishable bins, injective\nconst calculateDDInjective = (k, n) => {\n    if(k > n) return 0;\n\n    return calculateFactorial(n) / calculateFactorial(n-k);\n};\n\n//k distinguishable balls, n distinguishable bins, surjective\nconst calculateDDSurjective = (k, n) => {\n    return calculateStirlingNumber(k, n) * calculateFactorial(n);\n};\n\n//k indistinguishable balls, n distinguishable bins, no restrictions\nconst calculateIDUnrestricted = (k, n) => {\n    k += 1; //since I removed one less bar than usual\n    n -= 1; //since I added one more star than usual\n    return calculateBinomialCoefficient(n + k - 1, k - 1);\n};\n\n//k indistinguishable balls, n distinguishable bins, injective\nconst calculateIDInjective = (k, n) => {\n    return calculateBinomialCoefficient(n, k);\n};\n\n//k indistinguishable balls, n distinguishable bins, surjective\nconst calculateIDSurjective = (k, n) => {\n    k += 1;\n    n -= 1;\n    return calculateBinomialCoefficient(n - 1, k - 1);\n};\n\n//k distinguishable balls, n indistinguishable bins, no restrictions\nconst calculateDIUnrestricted = (k, n) => {\n    let numbers = getNumbersArray(n);\n    let formula = (acc, i) => acc + calculateStirlingNumber(k, i)\n    return numbers.reduce(formula, 0);\n};\n\n//k distinguishable balls, n indistinguishable bins, injective\nconst calculateDIInjective = (k, n) => {\n    if(k <= n) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n//k distinguishable balls, n indistinguishable bins, surjective\nconst calculateDISurjective = (k, n) => {\n    return calculateStirlingNumber(k, n);\n};\n\n//k indistinguishable balls, n indistinguishable bins, no restrictions\nconst calculateIIUnrestricted = (n, k) => {\n\n};\n\n//k indistinguishable balls, n indistinguishable bins, injective\nconst calculateIIInjective = (k, n) => {\n    if (k <= n) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n//k indistinguishable balls, n indistinguishable bins, surjective\nconst calculateIISurjective = (n, k) => {\n\n};\n\nconst calculateStirlingNumber = (n, k) => {\n    let numbers = getNumbersArray(k);\n    let formula = (acc, i) => acc + (Math.pow(-1, i) * calculateBinomialCoefficient(k, i) * Math.pow(k - i, n))\n    let sumResults = numbers.reduce(formula, 0);\n\n    return (1/calculateFactorial(k)) * sumResults;\n};\n\nconst calculateBinomialCoefficient = (n, k) => {\n    return Math.floor(calculateFactorial(n) / (calculateFactorial(n-k) * calculateFactorial(k)));\n};\n\nconst calculateFactorial = (n) => {\n    let total = 1;\n    while(n > 0) {\n        total *= n;\n        n -= 1;\n    }\n    return total;\n}\n\nconst getNumbersArray = (n) => {\n    let numbers = new Array(n + 1);\n    for (let i = 0; i < numbers.length; i++) {\n        numbers[i] = i;\n    }\n    return numbers;\n}"],"sourceRoot":""}