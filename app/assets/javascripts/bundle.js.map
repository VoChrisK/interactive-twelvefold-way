{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ball.js","webpack:///./src/bar.js","webpack:///./src/bin.js","webpack:///./src/configuration.js","webpack:///./src/display.js","webpack:///./src/distribution.js","webpack:///./src/index.js","webpack:///./src/interaction.js","webpack:///./src/moveable_shape.js","webpack:///./src/star.js","webpack:///./src/static_shape.js","webpack:///./util/checks.js","webpack:///./util/event_listeners.js","webpack:///./util/formulas.js"],"names":["Ball","label","pos","radius","boundingBox","ctx","ballType","y","recalculateBoundingBox","newPos","lineWidth","beginPath","arc","Math","PI","stroke","font","fillText","MoveableShape","Bar","width","height","moveTo","lineTo","fill","Bin","bounds","binType","items","length","StaticShape","Configuration","staticShapes","otherShapes","checkBothShapes","counter","i","moveableType","staticType","forEach","staticShape","draw","moveableShape","Display","restriction","totalConfigurations","distribution","Distribution","usesStarsAndBars","numMoveableShapes","document","getElementsByClassName","innerHTML","numStaticShapes","moveableShapes","setMoveableShapes","setStaticShapes","interaction","Interaction","configurations","determineFormula","addToConfigurations","canvasEl","newValue","getElementById","addEventListener","event","preventDefault","target","value","starsAndBars","addMoveableShape","removeMoveableShape","clearRect","clientWidth","calculateFormula","start","addStaticShape","removeStaticShape","updateValues","resetState","clearConfigurations","changeDisplay","resetInterface","remove","setMoveableShapePosition","setStaticShapePosition","updateDisplayCount","changeLabels","moveableShapePosition","staticShapePosition","Array","parseInt","Star","push","ballLabel","binLabel","innerText","getContext","result","display","animation","checkBounds","offsetX","offsetY","window","requestAnimationFrame","isClicked","shape","cancelAnimationFrame","otherShape","addItem","removeItem","EventListeners","updateCount","pop","checkConstraints","reduce","acc","checkStaticShapes","determineCases","checkEachConfiguration","checkMoveableShapes","checkIDSurjective","violateRestriction","cloneStaticShapes","newStaticShapes","newStaticShape","newMoveableShapes","Object","assign","create","getPrototypeOf","x","topLeft","topRight","bottomRight","bottomLeft","gap","closePath","item","bound1","bound2","bound3","bound4","includes","checkItem","index","indexOf","splice","toLowerCase","shape1","shape2","checkOrderOfShapes","checkAgainstOtherShapes","checkForSimilarShapes","checkTotalShapes","checkForSimilarLength","items1","items2","checkCallback","labels","Boolean","checkInjective","checkSurjective","shapes","addEventsToCases","case1","case2","case3","case4","restart","addEventsToRules","rule1","rule2","rule3","addEventsToButtons","addConfiguration","appendPartition","console","log","newCanvas","createElement","classList","add","setAttribute","scaleNewCanvas","history","scale","appendChild","getBoundingClientRect","rules","calculateDDUnrestricted","calculateDDInjective","calculateDDSurjective","calculateDIUnrestricted","calculateDIInjective","calculateDISurjective","calculateIDUnrestricted","calculateIDInjective","calculateIDSurjective","calculateIIUnrestricted","calculateIIInjective","calculateIISurjective","k","n","pow","calculateFactorial","calculateStirlingNumber","calculateBinomialCoefficient","numbers","getNumbersArray","formula","calculatePartition","sumResults","floor","total"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import MoveableShape from './moveable_shape';\n\nclass Ball extends MoveableShape {\n    constructor(label, pos, radius) {\n        const boundingBox = [\n            [pos[0] - radius, pos[1] - radius],\n            [pos[0] + radius, pos[1] - radius],\n            [pos[0] + radius, pos[1] + radius],\n            [pos[0] - radius, pos[1] + radius]\n        ];\n        super(pos, boundingBox);\n        this.label = label;\n        this.radius = radius;\n    }\n\n    draw(ctx, ballType, y) {\n        if(typeof ctx === \"object\") { //ctx is a number when clicked so I need to have a conditional here\n            this.recalculateBoundingBox();\n\n            let newPos = this.pos[1];\n            if (this.pos[1] > y) {\n                newPos -= y * 2.5;\n            }\n\n            ctx.lineWidth = 3;\n            ctx.beginPath();\n            ctx.arc(this.pos[0], newPos, this.radius, 0, Math.PI * 2);\n            ctx.stroke();\n\n            if(ballType === \"distinguishable\") {\n                ctx.font = \"24px arial\";\n                ctx.fillText(this.label, this.pos[0] - 8, newPos + 8);\n            }\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0] - this.radius, this.pos[1] - this.radius],\n            [this.pos[0] + this.radius, this.pos[1] - this.radius],\n            [this.pos[0] + this.radius, this.pos[1] + this.radius],\n            [this.pos[0] - this.radius, this.pos[1] + this.radius]\n        ];\n    }\n}\n\nexport default Ball;","import MoveableShape from './moveable_shape';\n\nclass Bar extends MoveableShape {\n    constructor(pos, width, height) {\n        const boundingBox = [\n            [pos[0], pos[1]],\n            [pos[0] + width, pos[1]],\n            [pos[0] + width, pos[1] + height],\n            [pos[0], pos[1] + height]\n        ];\n        super(pos, boundingBox);\n        this.width = width;\n        this.height = height;\n    }\n\n    draw(ctx) {\n        if(typeof ctx === \"object\") {\n            this.recalculateBoundingBox();\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0], this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.width, this.pos[1]);\n            ctx.lineTo(this.pos[0] + this.width, this.pos[1] + this.height);\n            ctx.lineTo(this.pos[0], this.pos[1] + this.height);\n            ctx.lineTo(this.pos[0], this.pos[1]);\n            ctx.stroke();\n            ctx.fill();\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1]],\n            [this.pos[0] + this.width, this.pos[1] + this.height],\n            [this.pos[0], this.pos[1] + this.height]\n        ];\n    }\n}\n\nexport default Bar;","import StaticShape from './static_shape';\n\nclass Bin extends StaticShape {\n    constructor(label, pos, bounds) {\n        const boundingBox = [\n            [pos[0], pos[1]],\n            [pos[0] + bounds[0] + bounds[1], pos[1]],\n            [pos[0] + bounds[1], pos[1] + bounds[2]],\n            [pos[0] + bounds[0], pos[1] + bounds[2]]\n        ];\n        super(pos, boundingBox);\n        this.label = label;\n        this.bounds = bounds //[X1, X2, Y]\n    }\n\n    // checkCollision(x, y) {\n    //     let line1 = [this.boundingBox[1][0] - this.boundingBox[0][0], this.boundingBox[1][1] - this.boundingBox[0][1]];\n    //     let line2 = [this.boundingBox[2][0] - this.boundingBox[1][0], this.boundingBox[2][1] - this.boundingBox[1][1]];\n    //     let line3 = [this.boundingBox[3][0] - this.boundingBox[2][0], this.boundingBox[3][1] - this.boundingBox[2][1]];\n\n    //     if(x === line1[0], y === line1[1]) {\n    //         this.pos = line1;\n    //     } else if(x === line2[0], line2[1]) {\n    //         this.pos = line2;\n    //     } else if(x === line3[0], line3[1]) {\n\n    //     }\n    // }\n\n    draw(ctx, binType, y) {\n        if (typeof ctx === \"object\") {\n            this.recalculateBoundingBox();\n            let newPos = this.pos[1];\n            if(this.pos[1] > y) {\n                newPos = y;\n            }\n\n            ctx.lineWidth = 3;\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0], newPos);\n            ctx.lineTo(this.pos[0] + this.bounds[0], newPos + this.bounds[2]);\n            ctx.lineTo(this.pos[0] + this.bounds[1], newPos + this.bounds[2]);\n            ctx.lineTo(this.pos[0] + this.bounds[0] + this.bounds[1], newPos);\n            \n            ctx.stroke();\n\n            ctx.font = \"24px arial\";\n            if(binType === \"distinguishable\") {\n                ctx.fillText(this.label, this.pos[0] + 95, newPos + 150);\n            }\n\n            ctx.fillText(this.items.length, this.pos[0] + this.bounds[1] - 65, newPos + this.bounds[2] + 30);\n        }\n    }\n\n    recalculateBoundingBox() {\n        this.boundingBox = [\n            [this.pos[0], this.pos[1]],\n            [this.pos[0] + this.bounds[0] + this.bounds[1], this.pos[1]],\n            [this.pos[0] + this.bounds[1], this.pos[1] + this.bounds[2]],\n            [this.pos[0] + this.bounds[0], this.pos[1] + this.bounds[2]]\n        ];\n    }\n}\n\nexport default Bin;","//true values denote there exists a partition, false values denote there doesn't not exist a partition\nclass Configuration {\n    constructor(staticShapes) {\n        this.staticShapes = staticShapes;\n    }\n\n    //this function checks if there is a parititon. \n    //It matches each input's bin with each partition's \n    //bin to check if they have the same configuration. \n    //A counter variable keeps track of simiarities: if \n    //the counter equals to the total # of bins, then this \n    //implies that the partition already exists or the parition\n    //does not adhere to the rules\n    checkStaticShapes(otherShapes, checkBothShapes) {\n        let counter = 0;\n        for(let i = 0; i < this.staticShapes.length; i++) {\n            if (checkBothShapes(otherShapes[i], this.staticShapes, i)) {\n                counter++;\n            }\n        }\n\n        return counter === this.staticShapes.length;\n    }\n\n    draw(ctx, moveableType, staticType, y) {\n        this.staticShapes.forEach(staticShape => {\n            staticShape.draw(ctx, staticType, y);\n            staticShape.items.forEach(moveableShape => moveableShape.draw(ctx, moveableType, y))\n        });\n    }\n}\n\nexport default Configuration;","import Interaction from \"./interaction\";\nimport { determineFormula } from '../util/formulas';\nimport Distribution from './distribution';\n\n//this class is concerned with the presentation/event handling of the interface\nclass Display {\n    constructor(moveableType, staticType, restriction, totalConfigurations, ctx) {\n        this.moveableType = moveableType;\n        this.staticType = staticType;\n        this.restriction = restriction;\n        this.totalConfigurations = totalConfigurations;\n        this.ctx = ctx;\n        this.distribution = new Distribution();\n        this.distribution.usesStarsAndBars(this.moveableType, this.staticType, this.restriction);\n        const numMoveableShapes = document.getElementsByClassName(\"num-balls\")[0].innerHTML;\n        const numStaticShapes = document.getElementsByClassName(\"num-bins\")[0].innerHTML;\n        const moveableShapes = this.distribution.setMoveableShapes(numMoveableShapes);\n        const staticShapes = this.distribution.setStaticShapes(numStaticShapes);\n        this.interaction = new Interaction(moveableShapes, staticShapes);\n    }\n\n    addToConfigurations() {\n        document.getElementsByClassName(\"configuration-count\")[0].innerHTML = `Configurations: ${this.interaction.configurations.length}/${this.totalConfigurations}`;\n    }\n\n    //account for stars and bars later\n    calculateFormula() {\n        this.totalConfigurations = determineFormula(this.moveableType, this.staticType, this.restriction)(this.interaction.moveableShapes.length, this.interaction.staticShapes.length);\n        this.addToConfigurations();\n    }\n\n    updateValues() {\n        const numMoveableShapes = document.getElementsByClassName(\"num-balls\")[0].innerHTML;\n        const numStaticShapes = document.getElementsByClassName(\"num-bins\")[0].innerHTML;\n        const moveableShapes = this.distribution.setMoveableShapes(numMoveableShapes);\n        const staticShapes = this.distribution.setStaticShapes(numStaticShapes);\n        this.interaction.setMoveableShapes(moveableShapes);\n        this.interaction.setStaticShapes(staticShapes);\n    }\n\n    updateCount(canvasEl) {\n        let newValue;\n\n        document.getElementById(\"ball-count\").addEventListener(\"input\", event => {\n            event.preventDefault();\n            newValue = event.target.value;\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = newValue;\n            if (this.distribution.starsAndBars) document.getElementsByClassName(\"num-balls\")[0].innerHTML -= 1;\n            let moveableShape;\n\n            if(newValue > this.interaction.moveableShapes.length) {\n                moveableShape = this.distribution.addMoveableShape(this.interaction.moveableShapes.length);\n                this.interaction.addMoveableShape(moveableShape);\n            } else {\n                this.interaction.removeMoveableShape();\n                this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n            }\n            this.calculateFormula();\n            this.start();\n        });\n\n        document.getElementById(\"bin-count\").addEventListener(\"input\", event => {\n            newValue = event.target.value;\n            document.getElementsByClassName(\"num-bins\")[0].innerHTML = newValue;\n            let staticShape;\n            let length = this.interaction.staticShapes.length;\n\n            if(this.distribution.starsAndBars) length -= 1;\n\n            if(newValue > length) {\n                staticShape = this.distribution.addStaticShape(this.interaction.staticShapes.length);\n                this.interaction.addStaticShape(staticShape);\n            } else {\n                this.interaction.removeStaticShape();\n                this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n            }\n\n            this.calculateFormula();\n            this.start();\n        });\n    }\n\n    resetState() {\n        this.updateValues();\n        const canvasEl = document.getElementById(\"canvas\");\n        this.ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height);\n    }\n\n    resetInterface() {\n        this.resetState();\n        this.interaction.configurations = [];\n        this.addToConfigurations();\n        this.clearConfigurations();\n    }\n\n    restart() {\n        this.changeDisplay();\n        this.calculateFormula();\n        this.resetInterface();\n        this.start();\n    }\n\n    clearConfigurations() {\n        const configurations = document.getElementsByClassName(\"configuration\");\n        for(let i = configurations.length - 1; i >= 0; i--) {\n            configurations[i].remove();\n        }\n    }\n\n    changeDisplay() {\n        if (this.distribution.starsAndBars !== this.distribution.usesStarsAndBars(this.moveableType, this.staticType, this.restriction)) {\n            this.distribution.starsAndBars = this.distribution.usesStarsAndBars(this.moveableType, this.staticType, this.restriction);\n            this.distribution.setMoveableShapePosition();\n            this.distribution.setStaticShapePosition();\n            this.distribution.updateDisplayCount(this.interaction.moveableShapes.length);\n            this.updateValues();\n            this.distribution.changeLabels();\n        }\n    }\n\n    start() {\n        this.interaction.draw(this.ctx, this.moveableType, this.staticType);\n    }\n}\n\nexport default Display;","import Ball from './ball';\nimport Bin from './bin';\nimport Bar from './bar';\nimport Star from './star';\n\nclass Distribution {\n    constructor() {\n        this.starsAndBars = false;\n        this.moveableShapePosition;\n        this.staticShapePosition;\n        this.setMoveableShapePosition();\n        this.setStaticShapePosition();\n    }\n\n    usesStarsAndBars(moveableType, staticType, restriction) {\n        return moveableType === \"indistinguishable\" && staticType === \"distinguishable\" && (restriction === \"unrestricted\" || restriction === \"surjective\");\n    }\n\n    setMoveableShapePosition() {\n        if(this.starsAndBars) {\n            this.moveableShapePosition = [100, 200];\n        } else {\n            this.moveableShapePosition = [100, 50];\n        }\n    }\n\n    setStaticShapePosition() {\n        if (this.starsAndBars) {\n            this.staticShapePosition = [200, 400];\n        } else {\n            this.staticShapePosition = [245, 440];\n        }\n    }\n\n    setMoveableShapes(numMoveableShapes) {\n        const moveableShapes = new Array(parseInt(numMoveableShapes));\n\n        if(this.starsAndBars) {\n            for (let i = 0; i < moveableShapes.length; i++) {\n                moveableShapes[i] = new Bar([this.moveableShapePosition[0] * (i + 1), this.moveableShapePosition[1]], 10, 60);\n            }\n        } else {\n            for (let i = 0; i < moveableShapes.length; i++) {\n                moveableShapes[i] = new Ball(i + 1, [this.moveableShapePosition[0] * (i + 1), this.moveableShapePosition[1]], 35);\n            }\n        }\n\n        return moveableShapes;\n    }\n\n    setStaticShapes(numStaticShapes) {\n        const staticShapes = new Array(parseInt(numStaticShapes));\n        if(this.starsAndBars) {\n            for (let i = 0; i < staticShapes.length; i++) {\n                staticShapes[i] = new Star([this.staticShapePosition[0] * i - 50, this.staticShapePosition[1]], this.staticShapePosition[0]);\n            }\n            staticShapes.push(this.addStaticShape(staticShapes.length));\n        } else {\n            for (let i = 0; i < staticShapes.length; i++) {\n                staticShapes[i] = new Bin(i + 1, [(this.staticShapePosition[0] * i) + 20, this.staticShapePosition[1]], [40, 160, 300]);\n            }\n        }\n\n        return staticShapes;\n    }\n\n    addMoveableShape(length) {\n        if(this.starsAndBars) {\n            return new Bar([this.moveableShapePosition[0] * (length + 1), this.moveableShapePosition[1]], 10, 60);\n        } else {\n            return new Ball(length + 1, [this.moveableShapePosition[0] * (length + 1), this.moveableShapePosition[1]], 35);\n        }\n    }\n\n    addStaticShape(length) {\n        if(this.starsAndBars) {\n            return new Star([this.staticShapePosition[0] * length - 50, this.staticShapePosition[1]], this.staticShapePosition[0]);\n        } else {\n            return new Bin(length + 1, [(this.staticShapePosition[0] * (length)) + 20, this.staticShapePosition[1]], [40, 160, 300]);\n        }\n    }\n\n    changeLabels() {\n        let ballLabel = document.getElementById(\"ball-label-header\");\n        let binLabel = document.getElementById(\"bin-label-header\");\n\n        if (this.starsAndBars) {\n            ballLabel.innerText = \"Bars\";\n        } else {\n            ballLabel.innerText = \"Balls\";\n        }\n\n        if (this.starsAndBars) {\n            binLabel.innerText = \"Stars\";\n        } else {\n            binLabel.innerText = \"Bins\";\n        }\n    }\n\n    updateDisplayCount(value) {\n        if (this.starsAndBars) {\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = value - 1;\n        } else {\n            document.getElementsByClassName(\"num-balls\")[0].innerHTML = value + 1;\n        }\n    }\n}\n\nexport default Distribution;","import Display from './display';\nimport { determineFormula } from './../util/formulas';\nimport * as EventListeners from './../util/event_listeners';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvasEl = document.getElementById(\"canvas\");\n    const ctx = canvasEl.getContext(\"2d\");\n    const result = determineFormula(\"distinguishable\", \"distinguishable\", \"unrestricted\")(document.getElementsByClassName(\"num-balls\")[0].innerHTML, document.getElementsByClassName(\"num-bins\")[0].innerHTML);\n    const display = new Display(\"distinguishable\", \"distinguishable\", \"unrestricted\", result, ctx);\n    let animation;\n\n    canvasEl.addEventListener(\"mousedown\", event => {\n        for(let i = 0; i < display.interaction.moveableShapes.length; i++) {\n            if (display.interaction.moveableShapes[i].checkBounds(event.offsetX, event.offsetY)) {\n                animation = window.requestAnimationFrame(display.interaction.moveableShapes[i].draw);\n                display.interaction.moveableShapes[i].isClicked = true;\n                break; //break here to resolve conflict between overlapping balls\n                \n            }\n        }\n    });\n\n    canvasEl.addEventListener(\"mousemove\", event => {\n        display.interaction.moveableShapes.forEach(shape => {\n            if (shape.isClicked) {\n                ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height); //clear canvas to prevent trailing circles\n                shape.pos[0] = event.offsetX;\n                shape.pos[1] = event.offsetY;\n            }\n        });\n        display.start();\n    });\n\n    canvasEl.addEventListener(\"mouseup\", event => {\n        window.cancelAnimationFrame(animation);\n        ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.height); //clear canvas to prevent trailing circles\n        display.interaction.moveableShapes.forEach(shape => {\n            if (shape.isClicked) {\n                shape.isClicked = false;\n                display.interaction.staticShapes.forEach(otherShape => {\n                    otherShape.addItem(shape);\n                    otherShape.removeItem(shape);\n                });\n            }\n        });\n        display.start();\n    });\n\n    EventListeners.addEventsToRules(display);\n    EventListeners.addEventsToCases(display);\n    EventListeners.addEventsToButtons(display);\n    display.updateCount(canvasEl);\n    display.start();\n});","import Configuration from './configuration';\nimport { determineCases, checkConstraints, checkIDSurjective } from '../util/checks';\nimport StaticShape from './static_shape';\nimport MoveableShape from './moveable_shape';\n\nclass Interaction {\n    constructor(moveableShapes, staticShapes) {\n        this.moveableShapes = moveableShapes;\n        this.staticShapes = staticShapes;\n        this.configurations = [];\n    }\n\n    setMoveableShapes(moveableShapes) {\n        this.moveableShapes = moveableShapes;\n    }\n\n    setStaticShapes(staticShapes) {\n        this.staticShapes = staticShapes;\n    }\n\n    addMoveableShape(moveableShape) {\n        this.moveableShapes.push(moveableShape);\n    }\n\n    removeMoveableShape() {\n        this.moveableShapes.pop();\n    }\n\n    addStaticShape(staticShape) {\n        this.staticShapes.push(staticShape);\n    }\n\n    removeStaticShape() {\n        this.staticShapes.pop();\n    }\n\n    violateRestriction(restriction) {\n        for(let i = 0; i < this.staticShapes.length; i++) {\n            if(!checkConstraints(restriction, this.staticShapes[i])) return true;\n        }\n\n        return false;\n    }\n\n    //this function checks if all balls are in the bins by checking if the total balls in bins equals to the total balls\n    checkMoveableShapes() {\n        return this.moveableShapes.length === this.staticShapes.reduce((acc, shape) => acc + shape.items.length, 0);\n    }\n\n    //checks if there exists a partition that is identical. Returns true if that's the case\n    checkEachConfiguration(moveableType, staticType) {\n        for (let i = 0; i < this.configurations.length; i++) {\n            if (this.configurations[i].checkStaticShapes(this.staticShapes, determineCases(moveableType, staticType))) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    addConfiguration(event, restriction, moveableType, staticType, starsAndBars) {\n        event.preventDefault();\n        if(this.checkEachConfiguration(moveableType, staticType) || !this.checkMoveableShapes()) return false;\n        if(starsAndBars && restriction === \"surjective\") {\n            if(!checkIDSurjective(this.staticShapes)) return false;\n        } else {\n            if(this.violateRestriction(restriction)) return false;\n        }\n\n        this.configurations.push(new Configuration(this.cloneStaticShapes()));\n        return true;\n    }\n\n    cloneStaticShapes() {\n        let newStaticShapes = [];\n        let newStaticShape;\n        let newMoveableShapes;\n\n        this.staticShapes.forEach(staticShape => {\n            newMoveableShapes = [];\n            staticShape.items.forEach(moveableShape => {\n                newMoveableShapes.push(Object.assign(Object.create(Object.getPrototypeOf(moveableShape)), moveableShape));\n            });\n            newStaticShape = Object.assign(Object.create(Object.getPrototypeOf(staticShape)), staticShape);\n            newStaticShape.items = newMoveableShapes;\n            newStaticShapes.push(newStaticShape);\n        });\n\n        return newStaticShapes;\n    }\n    \n    draw(ctx, moveableType, staticType) {\n        this.moveableShapes.forEach(shape => shape.draw(ctx, moveableType));\n        this.staticShapes.forEach(shape => shape.draw(ctx, staticType));\n    }\n}\n\nexport default Interaction;","class MoveableShape {\n    constructor(pos, boundingBox) {\n        this.pos = pos;\n        this.boundingBox = boundingBox;\n        this.isClicked = false;\n    }\n\n    checkBounds(x, y) {\n        let topLeft = (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]);\n        let topRight = (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]);\n        let bottomRight = (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]);\n        let bottomLeft = (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n\n        return topLeft && topRight && bottomRight && bottomLeft;\n    }\n\n    recalculateBoundingBox() {}\n\n    draw(ctx) {}\n}\n\nexport default MoveableShape;","import StaticShape from './static_shape';\n\nclass Star extends StaticShape {\n    constructor(pos, gap) {\n        const boundingBox = [\n            [pos[0], pos[1] - 20],\n            [pos[0] + gap, pos[1] - 20],\n            [pos[0] + gap, pos[1] + 90],\n            [pos[0], pos[1] + 90]\n        ];\n        super(pos, boundingBox);\n        this.gap = gap;\n    }\n\n    draw(ctx) {\n        if(typeof ctx === \"object\") {\n            ctx.beginPath();\n            ctx.moveTo(this.pos[0] - 5, this.pos[1] - 3);\n            ctx.lineTo(this.pos[0] + 4, this.pos[1] + 24);\n            ctx.lineTo(this.pos[0] + 35, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] + 9, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] + 20, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 5, this.pos[1] + 42);\n            ctx.lineTo(this.pos[0] - 27, this.pos[1] + 60);\n            ctx.lineTo(this.pos[0] - 19, this.pos[1] + 37);\n            ctx.lineTo(this.pos[0] - 45, this.pos[1] + 25);\n            ctx.lineTo(this.pos[0] - 14, this.pos[1] + 24);\n            ctx.closePath();\n            ctx.stroke();\n            ctx.fill();\n            ctx.fillText(this.items.length, this.pos[0] + 90, this.pos[1] + 150);\n        }\n    }\n}\n\nexport default Star;","class StaticShape {\n    constructor(pos, boundingBox) {\n        this.pos = pos;\n        this.boundingBox = boundingBox;\n        this.items = [];\n    }\n\n    checkBounds(x, y) {\n        let topLeft = (x >= this.boundingBox[0][0] && y >= this.boundingBox[0][1]);\n        let topRight = (x < this.boundingBox[1][0] && y >= this.boundingBox[1][1]);\n        let bottomRight = (x < this.boundingBox[2][0] && y < this.boundingBox[2][1]);\n        let bottomLeft = (x >= this.boundingBox[3][0] && y < this.boundingBox[3][1]);\n\n        return topLeft && topRight && bottomRight && bottomLeft;\n    }\n\n    checkItem(item) {\n        let bound1 = this.checkBounds(item.boundingBox[0][0], item.boundingBox[0][1]);\n        let bound2 = this.checkBounds(item.boundingBox[1][0], item.boundingBox[1][1]);\n        let bound3 = this.checkBounds(item.boundingBox[2][0], item.boundingBox[2][1]);\n        let bound4 = this.checkBounds(item.boundingBox[3][0], item.boundingBox[3][1]);\n\n        return bound1 || bound2 || bound3 || bound4;\n    }\n\n    addItem(item) {\n        if(!this.items.includes(item) && this.checkItem(item)) {\n            this.items.push(item);\n        }\n    }\n\n    removeItem(item) {\n        if (this.items.includes(item) && !this.checkItem(item)) {\n            let index = this.items.indexOf(item);\n            this.items.splice(index, 1);\n        }\n    }\n\n    recalculateBoundingBox() {}\n\n    draw(ctx) {}\n}\n\nexport default StaticShape;","export const determineCases = (moveableType, staticType) => {\n\n    if (moveableType.toLowerCase() === \"distinguishable\") {\n        if (staticType.toLowerCase() === \"distinguishable\") {\n            return (shape1, shape2, i) => {\n                return checkOrderOfShapes(shape1.items, shape2[i].items);\n            }\n        } else if (staticType.toLowerCase() === \"indistinguishable\") {\n            return (shape1, shape2) => {\n                return checkAgainstOtherShapes(shape1.items, shape2, checkForSimilarShapes);\n            }\n        }\n    } else if (moveableType.toLowerCase() === \"indistinguishable\") {\n        if (staticType.toLowerCase() === \"distinguishable\") {\n            return (shape1, shape2, i) => {\n                return checkTotalShapes(shape1.items, shape2[i].items);\n            }\n        } else if (staticType.toLowerCase() === \"indistinguishable\") {\n            return (shape1, shape2) => {\n                return checkAgainstOtherShapes(shape1.items, shape2, checkForSimilarLength);\n            }\n        }\n    }\n}\n\n//only if the bins and balls are distinguishable\nconst checkOrderOfShapes = (items1, items2) => {\n    if (items1.length !== items2.length) return false;\n\n    for (let i = 0; i < items1.length; i++) {\n        if (items1[i].label !== items2[i].label) return false; //return false if the order is incorrect\n    }\n    return true; //return true if the order is the same for both bins\n}\n\n//only if the bins are distinguishable, and balls are indistinguishable, check count of bins\nconst checkTotalShapes = (items1, items2) => {\n    return items1.length === items2.length;\n}\n\n// For a given order of balls, check against other bins in a partition \n// if there exist similar order.\nconst checkAgainstOtherShapes = (items, otherShapes, checkCallback) => {\n    for (let i = 0; i < otherShapes.length; i++) {\n        if (checkCallback(items, otherShapes[i].items)) return true;\n    }\n\n    return false;\n}\n\n//this function checks if two bins have the same balls, but not necessarily in order\nconst checkForSimilarShapes = (items1, items2) => {\n    if (items1.length !== items2.length) return false;\n\n    let labels = {};\n    for(let i = 0; i < items2.length; i++) {\n        labels[items2[i].label] = items2[i].label;\n    }\n\n    for (let i = 0; i < items1.length; i++) {\n        if (!Boolean(labels[items1[i].label])) return false; \n    }\n\n    return true; //return true if the order is the same for both bins\n}\n\n//this function checks if two bins have the same amount of balls, regardless of their labels\nconst checkForSimilarLength = (items1, items2) => {\n    return items1.length === items2.length;\n}\n\nexport const checkConstraints = (restriction, shape) => {\n    if (restriction.toLowerCase() === \"injective\") {\n        return checkInjective(shape);\n    } else if (restriction.toLowerCase() === \"surjective\") {\n        return checkSurjective(shape);\n    } else {\n        return true;\n    }\n};\n\nexport const checkIDSurjective = (shapes) => {\n    if (shapes[0].items.length > 0 || shapes[shapes.length - 1].items.length > 0) return false;\n    for(let i = 1; i < shapes.length - 1; i++) {\n        if(!checkInjective(shapes[i])) return false;\n    }\n\n    return true;\n};\n\n//if a bin has at most one ball\nconst checkInjective = (shape) => {\n    if (shape.items.length <= 1) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\n//if a bin has at least one ball\nconst checkSurjective = (shape) => {\n    if (shape.items.length > 0) {\n        return true;\n    } else {\n        return false;\n    }\n}","export const addEventsToCases = (display) => {\n    let case1 = document.getElementsByClassName(\"dd\");\n    let case2 = document.getElementsByClassName(\"di\");\n    let case3 = document.getElementsByClassName(\"id\");\n    let case4 = document.getElementsByClassName(\"ii\");\n    const moveableType = document.getElementsByClassName(\"moveable-type\")[0];\n    const staticType = document.getElementsByClassName(\"static-type\")[0];\n\n    for (let i = 0; i < case1.length; i++) {\n        case1[i].addEventListener(\"click\", event => {\n            display.moveableType = \"distinguishable\";\n            display.staticType = \"distinguishable\";\n            moveableType.innerHTML = \"Ball/Bar type: Distinguishable\";\n            staticType.innerHTML = \"Bin/Star type: Distinguishable\";\n            display.restart();\n        });\n\n        case2[i].addEventListener(\"click\", event => {\n            display.moveableType = \"distinguishable\";\n            display.staticType = \"indistinguishable\";\n            moveableType.innerHTML = \"Ball/Bar type: Distinguishable\";\n            staticType.innerHTML = \"Bin/Star type: Indistinguishable\";\n            display.restart();\n        });\n\n        case3[i].addEventListener(\"click\", event => {\n            display.moveableType = \"indistinguishable\";\n            display.staticType = \"distinguishable\";\n            moveableType.innerHTML = \"Ball/Bar type: Indistinguishable\";\n            staticType.innerHTML = \"Bin/Star type: Distinguishable\";\n            display.restart();\n        });\n\n        case4[i].addEventListener(\"click\", event => {\n            display.moveableType = \"indistinguishable\";\n            display.staticType = \"indistinguishable\";\n            moveableType.innerHTML = \"Ball/Bar type: Indistinguishable\";\n            staticType.innerHTML = \"Bin/Star type: Indistinguishable\";\n            display.restart();\n        });\n    }\n}\n\nexport const addEventsToRules = (display) => {\n    let rule1 = document.getElementsByClassName(\"unr\");\n    let rule2 = document.getElementsByClassName(\"inj\");\n    let rule3 = document.getElementsByClassName(\"sur\");\n    const restriction = document.getElementsByClassName(\"restriction\")[0];\n\n    for (let i = 0; i < rule1.length; i++) {\n        rule1[i].addEventListener(\"click\", event => {\n            display.restriction = \"unrestricted\";\n            restriction.innerHTML = \"Restriction: Unrestricted\";\n        })\n        rule2[i].addEventListener(\"click\", event => {\n            display.restriction = \"injective\";\n            restriction.innerHTML = \"Restriction: Injective\";\n        })\n        rule3[i].addEventListener(\"click\", event => {\n            display.restriction = \"surjective\";\n            restriction.innerHTML = \"Restriction: Surjective\";\n        })\n    }\n}\n\nexport const addEventsToButtons = (display) => {\n    document.getElementsByClassName(\"reset-state\")[0].addEventListener(\"click\", event => {\n        display.resetState();\n        display.start();\n    });\n\n    document.getElementsByClassName(\"reset-problem\")[0].addEventListener(\"click\", event => {\n        display.resetInterface();\n        display.addToConfigurations();\n        display.start();\n    });\n\n    document.getElementsByClassName(\"submit-config\")[0].addEventListener(\"submit\", event => {\n        if (display.interaction.addConfiguration(event, display.restriction, display.moveableType, display.staticType, display.distribution.starsAndBars)) {\n            display.addToConfigurations();\n            appendPartition(display);\n        } else {\n            console.log(\"Cannot add partition!\");\n        }\n    });\n}\n\nconst appendPartition = (display) => {\n    const newCanvas = document.createElement(\"CANVAS\");\n    newCanvas.classList.add(\"configuration\")\n    newCanvas.setAttribute(\"width\", \"290\");\n    const ctx = newCanvas.getContext(\"2d\");\n    \n    let length = display.interaction.configurations.length;\n    let y = scaleNewCanvas(display, ctx, newCanvas);\n    display.interaction.configurations[length - 1].draw(ctx, display.moveableType, display.staticType, y);\n}\n\nconst scaleNewCanvas = (display, ctx, newCanvas) => {\n    const length = display.interaction.staticShapes.length;\n    const history = document.getElementsByClassName(\"history\")[0];\n\n    if(length === 1 || length === 2) {\n        newCanvas.setAttribute(\"height\", \"275\");\n        ctx.scale(0.5, 0.5);\n        history.appendChild(newCanvas);\n        return newCanvas.getBoundingClientRect().height - 150;\n    } else if (length === 3) {\n        newCanvas.setAttribute(\"height\", \"225\");\n        ctx.scale(0.4, 0.4);\n        history.appendChild(newCanvas);\n        return newCanvas.getBoundingClientRect().height - 100;\n    } else if (length === 4) {\n        newCanvas.setAttribute(\"height\", \"175\");\n        ctx.scale(0.3, 0.3);\n        history.appendChild(newCanvas);\n        return newCanvas.getBoundingClientRect().height - 50;\n    } else {\n        newCanvas.setAttribute(\"height\", \"125\");\n        ctx.scale(0.24, 0.24);\n        history.appendChild(newCanvas);\n        return newCanvas.getBoundingClientRect().height;\n    }\n};","//function naming convention: First character is label (Distinguishable or Indistinguishable) of ball, second character is label of bin, last word is rules\n\nexport const determineFormula = (ballType, binType, rules) => {\n    switch(ballType) {\n        case \"distinguishable\":\n            switch(binType) {\n                case \"distinguishable\":\n                    switch(rules) {\n                        case \"unrestricted\":\n                            return calculateDDUnrestricted;\n                        case \"injective\":\n                            return calculateDDInjective;\n                        case \"surjective\":\n                            return calculateDDSurjective;\n                    }\n                case \"indistinguishable\":\n                    switch(rules) {\n                        case \"unrestricted\":\n                            return calculateDIUnrestricted;\n                        case \"injective\":\n                            return calculateDIInjective;\n                        case \"surjective\":\n                            return calculateDISurjective;\n                    }\n            }\n        case \"indistinguishable\":\n            switch (binType) {\n                case \"distinguishable\":\n                    switch (rules) {\n                        case \"unrestricted\":\n                            return calculateIDUnrestricted;\n                        case \"injective\":\n                            return calculateIDInjective;\n                        case \"surjective\":\n                            return calculateIDSurjective;\n                    }\n                case \"indistinguishable\":\n                    switch (rules) {\n                        case \"unrestricted\":\n                            return calculateIIUnrestricted;\n                        case \"injective\":\n                            return calculateIIInjective;\n                        case \"surjective\":\n                            return calculateIISurjective;\n                    }\n            }\n        default:\n            return null;\n    };\n};\n\n//k distinguishable balls, n distinguishable bins, no restrictions\nconst calculateDDUnrestricted = (k, n) => {\n    return Math.pow(n, k);\n};\n\n//k distinguishable balls, n distinguishable bins, injective\nconst calculateDDInjective = (k, n) => {\n    if(k > n) return 0;\n\n    return calculateFactorial(n) / calculateFactorial(n-k);\n};\n\n//k distinguishable balls, n distinguishable bins, surjective\nconst calculateDDSurjective = (k, n) => {\n    return calculateStirlingNumber(k, n) * calculateFactorial(n);\n};\n\n//k indistinguishable balls, n distinguishable bins, no restrictions\nconst calculateIDUnrestricted = (k, n) => {\n    k += 1; //since I removed one less bar than usual\n    n -= 1; //since I added one more star than usual\n    return calculateBinomialCoefficient(n + k - 1, k - 1);\n};\n\n//k indistinguishable balls, n distinguishable bins, injective\nconst calculateIDInjective = (k, n) => {\n    return calculateBinomialCoefficient(n, k);\n};\n\n//k indistinguishable balls, n distinguishable bins, surjective\nconst calculateIDSurjective = (k, n) => {\n    k += 1;\n    n -= 1;\n    return calculateBinomialCoefficient(n - 1, k - 1);\n};\n\n//k distinguishable balls, n indistinguishable bins, no restrictions\nconst calculateDIUnrestricted = (k, n) => {\n    let numbers = getNumbersArray(n);\n    let formula = (acc, i) => acc + calculateStirlingNumber(k, i)\n    return numbers.reduce(formula, 0);\n};\n\n//k distinguishable balls, n indistinguishable bins, injective\nconst calculateDIInjective = (k, n) => {\n    if(k <= n) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n//k distinguishable balls, n indistinguishable bins, surjective\nconst calculateDISurjective = (k, n) => {\n    return calculateStirlingNumber(k, n);\n};\n\n//k indistinguishable balls, n indistinguishable bins, no restrictions\nconst calculateIIUnrestricted = (k, n) => {\n    let numbers = getNumbersArray(n);\n    let formula = (acc, i) => acc + calculatePartition(k, i)\n    return numbers.reduce(formula, 0);\n};\n\n//k indistinguishable balls, n indistinguishable bins, injective\nconst calculateIIInjective = (k, n) => {\n    if (k <= n) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n//k indistinguishable balls, n indistinguishable bins, surjective\nconst calculateIISurjective = (k, n) => {\n    return calculatePartition(k, n);\n};\n\n//calculated using recurrence relation P(n,k)=P(n-1,k-1)+P(n-k,k) <- by wolfram mathworld\n//k and n will be reversed because we use k balls and n bins\nconst calculatePartition = (k, n) => {\n    if (k === n) {\n        return 1;\n    }\n    \n    if (k <= 0 || n <= 0) {\n        return 0;\n    }\n\n    return calculatePartition(k - 1, n - 1) + calculatePartition(k - n, n);\n}\n\nconst calculateStirlingNumber = (n, k) => {\n    let numbers = getNumbersArray(k);\n    let formula = (acc, i) => acc + (Math.pow(-1, i) * calculateBinomialCoefficient(k, i) * Math.pow(k - i, n))\n    let sumResults = numbers.reduce(formula, 0);\n\n    return (1/calculateFactorial(k)) * sumResults;\n};\n\nconst calculateBinomialCoefficient = (n, k) => {\n    return Math.floor(calculateFactorial(n) / (calculateFactorial(n-k) * calculateFactorial(k)));\n};\n\nconst calculateFactorial = (n) => {\n    let total = 1;\n    while(n > 0) {\n        total *= n;\n        n -= 1;\n    }\n    return total;\n}\n\nconst getNumbersArray = (n) => {\n    let numbers = new Array(n + 1);\n    for (let i = 0; i < numbers.length; i++) {\n        numbers[i] = i;\n    }\n    return numbers;\n}"],"sourceRoot":""}